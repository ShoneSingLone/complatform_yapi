{"version":3,"file":"InterfaceDetail.32dc3e6c.js","sources":["../../src/components/InputKeyValue.tsx","../../src/containers/Project/Interface/DialogUpsertTags.tsx","../../src/containers/Project/Interface/DialogUpsertProxyEnv.tsx","../../src/components/interfaceParams/BodyParamsForm.tsx","../../src/components/JsonSchemaEditor/SubformObject.tsx","../../src/components/JsonSchemaEditor/SubformString.tsx","../../src/components/JsonSchemaEditor/SubformNumber.tsx","../../src/components/JsonSchemaEditor/SubformArray.tsx","../../src/components/JsonSchemaEditor/SubformBoolean.tsx","../../src/components/JsonSchemaEditor/SchemaEditor.tsx","../../node_modules/.pnpm/type-of-is@3.5.1/node_modules/type-of-is/index.js","../../node_modules/.pnpm/generate-schema@2.6.0/node_modules/generate-schema/src/utils.js","../../node_modules/.pnpm/generate-schema@2.6.0/node_modules/generate-schema/src/schemas/generic.js","../../node_modules/.pnpm/generate-schema@2.6.0/node_modules/generate-schema/src/schemas/mongoose.js","../../node_modules/.pnpm/generate-schema@2.6.0/node_modules/generate-schema/src/schemas/bigquery.js","../../node_modules/.pnpm/generate-schema@2.6.0/node_modules/generate-schema/src/schemas/mysql.js","../../node_modules/.pnpm/generate-schema@2.6.0/node_modules/generate-schema/src/schemas/json.js","../../node_modules/.pnpm/generate-schema@2.6.0/node_modules/generate-schema/src/schemas/clickhouse.js","../../node_modules/.pnpm/generate-schema@2.6.0/node_modules/generate-schema/src/index.js","../../src/components/JsonSchemaEditor/JsonSchemaMonaco.tsx","../../src/components/interfaceParams/BodyParamsJson.tsx","../../src/components/interfaceParams/BodyParamsRaw.tsx","../../src/components/interfaceParams/DialogBulkValues.tsx","../../src/components/interfaceParams/BodyParamsPanel.tsx","../../src/components/interfaceParams/HeaderParamsForm.tsx","../../src/components/interfaceParams/HeaderParamsPanel.tsx","../../src/components/interfaceParams/QueryParamsForm.tsx","../../src/components/interfaceParams/QueryParamsPanel.tsx","../../src/components/RequestArgsPanel.tsx","../../src/components/ResponsePanel.tsx","../../src/components/TuiEditor/LoadTuiEditorLibs.ts","../../src/components/TuiEditor/TuiEditor.tsx","../../src/containers/Project/Interface/DialogModifyInterface.Helper.tsx","../../src/containers/Project/Interface/DialogModifyInterface.tsx","../../src/containers/Project/Interface/InterfaceDetail.tsx"],"sourcesContent":["import { FormRules, xU } from \"src/devui/ui/index\";\r\nimport { State_App } from \"src/state/State_App\";\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport function makeKeyValueObj(i: any) {\r\n\treturn { key: i.name, value: i.value };\r\n}\r\nexport function makeNameValueObj(i: any) {\r\n\treturn { name: i.key, value: i.value };\r\n}\r\nexport function orderAsc(a, b) {\r\n\treturn a - b < 0 ? -1 : 1;\r\n}\r\n\r\n/* 只能处理全量的upsert，因为没有保留_id这样的信息，方便diff的时候做判断 */\r\nexport const InputKeyValue = defineComponent({\r\n\tprops: [\r\n\t\t\"items\",\r\n\t\t/* fnCheck 提供额外的校验方法，满足基本的校验之后，由外部规则决定是否通过 */\r\n\t\t\"genItem\",\r\n\t\t/* fnCheck 提供额外的校验方法，满足基本的校验之后，由外部规则决定是否通过 */\r\n\t\t\"fnCheck\"\r\n\t],\r\n\temits: [\"update:items\"],\r\n\tsetup() {\r\n\t\treturn { State_App };\r\n\t},\r\n\tdata() {\r\n\t\treturn { privateItems: {}, isLoading: true };\r\n\t},\r\n\twatch: {\r\n\t\tformData() {\r\n\t\t\tthis.isLoading = true;\r\n\t\t\tthis.checkFormDataDebounce();\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.setPrivateItems();\r\n\t},\r\n\tcomputed: {\r\n\t\tformData() {\r\n\t\t\tconst formData = xU.reduce(\r\n\t\t\t\tthis.privateItems,\r\n\t\t\t\t(formData, privateTag, prop) => {\r\n\t\t\t\t\tformData[prop] = {\r\n\t\t\t\t\t\tkey: privateTag.keyConfigs.value,\r\n\t\t\t\t\t\tvalue: privateTag.valueConfigs.value\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn formData;\r\n\t\t\t\t},\r\n\t\t\t\t{}\r\n\t\t\t);\r\n\t\t\treturn formData;\r\n\t\t},\r\n\t\tvDomItems() {\r\n\t\t\tconst vDomItems = xU.map(\r\n\t\t\t\tthis.privateItems,\r\n\t\t\t\t({ valueConfigs, keyConfigs, _id }, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div class=\"flex mt10 baseline\" key={index}>\r\n\t\t\t\t\t\t\t<xItem configs={keyConfigs} />\r\n\t\t\t\t\t\t\t<xGap l=\"10\" />\r\n\t\t\t\t\t\t\t<span class=\"flex middle\">\r\n\t\t\t\t\t\t\t\t<xItem configs={valueConfigs} />\r\n\t\t\t\t\t\t\t\t<xGap l=\"10\" />\r\n\t\t\t\t\t\t\t\t<xIcon\r\n\t\t\t\t\t\t\t\t\tv-loading={this.isLoading}\r\n\t\t\t\t\t\t\t\t\ticon=\"delete\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.deleteItem(index)}\r\n\t\t\t\t\t\t\t\t\tstyle=\"color:red;\"\r\n\t\t\t\t\t\t\t\t\tclass=\"pointer\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\treturn vDomItems;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsetPrivateItems() {\r\n\t\t\tconst { items } = this;\r\n\t\t\tconst vm = this;\r\n\t\t\tif (xU.isArrayFill(items)) {\r\n\t\t\t\tlet index = 1;\r\n\t\t\t\tthis.privateItems = xU.reduce(\r\n\t\t\t\t\titems,\r\n\t\t\t\t\t(_items, tag) => {\r\n\t\t\t\t\t\t_items[index] = this.genItem({\r\n\t\t\t\t\t\t\t...tag,\r\n\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t++index;\r\n\t\t\t\t\t\treturn _items;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.privateItems = { 0: this.genItem({ index: 0 }) };\r\n\t\t\t}\r\n\t\t},\r\n\t\tcheckFormDataDebounce: xU.debounce(function () {\r\n\t\t\tif (this.isFormDataOk()) {\r\n\t\t\t\tconst keys = Object.keys(this.formData).map(Number).sort(orderAsc);\r\n\t\t\t\tconst value = xU.reduce(\r\n\t\t\t\t\tkeys,\r\n\t\t\t\t\t(_value, prop) => {\r\n\t\t\t\t\t\tconst item = this.formData[prop];\r\n\t\t\t\t\t\tif (xU.isInput(item.key)) {\r\n\t\t\t\t\t\t\t_value.push(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn _value;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[]\r\n\t\t\t\t);\r\n\t\t\t\tthis.$emit(\"update:items\", value);\r\n\t\t\t}\r\n\t\t\tthis.isLoading = false;\r\n\t\t}, 1000),\r\n\t\tisFormDataOk() {\r\n\t\t\tconst res = xU.map(this.formData, ({ key }, prop) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\txU.some(this.formData, ({ key: _key }, _index) => {\r\n\t\t\t\t\t\tif (_index == prop) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn _key === key;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.privateItems[prop].keyConfigs.itemTips = {\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\tmsg: `${key} 与已有标识重复`\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn FormRules.FAIL;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.fnCheck) {\r\n\t\t\t\t\t\tconst isFail = this.fnCheck(this.privateItems[prop]);\r\n\t\t\t\t\t\tif (isFail == FormRules.FAIL) {\r\n\t\t\t\t\t\t\treturn FormRules.FAIL;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.privateItems[prop].keyConfigs.itemTips = {\r\n\t\t\t\t\t\ttype: \"\",\r\n\t\t\t\t\t\tmsg: \"\"\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn FormRules.SUCCESS;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn !xU.some(res, i => i === FormRules.FAIL);\r\n\t\t},\r\n\t\tdeleteItem(index) {\r\n\t\t\tconst keys = Object.keys(this.privateItems);\r\n\t\t\tif (keys.length === 1) {\r\n\t\t\t\tconst prop = keys[0];\r\n\t\t\t\tthis.privateItems[prop].keyConfigs.value = \"\";\r\n\t\t\t\tthis.privateItems[prop].valueConfigs.value = \"\";\r\n\t\t\t} else {\r\n\t\t\t\tdelete this.privateItems[index];\r\n\t\t\t}\r\n\t\t},\r\n\t\taddItem() {\r\n\t\t\tconst keys = Object.keys(this.privateItems).map(Number).sort(orderAsc);\r\n\t\t\tconst nextIndex = Number(xU.last(keys)) + 1;\r\n\t\t\tthis.privateItems[nextIndex] = this.genItem({ index: nextIndex });\r\n\t\t}\r\n\t},\r\n\trender() {\r\n\t\tconst vm = this;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div class=\"ml10 mr10\">{this.vDomItems}</div>\r\n\t\t\t\t<xIcon\r\n\t\t\t\t\tv-loading={vm.isLoading}\r\n\t\t\t\t\ticon=\"add\"\r\n\t\t\t\t\tstyle=\"color:#1890ff;\"\r\n\t\t\t\t\tonClick={this.addItem}\r\n\t\t\t\t\tclass=\"pointer mt10 ml10 mb10\"\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n});\r\n","import {\n\tAllWasWell,\n\tdefItem,\n\tpickValueFrom,\n\tUI,\n\tvalidateForm,\n\txU\n} from \"@ventose/ui\";\nimport { Methods_App, State_App } from \"src/state/State_App\";\nimport { defineComponent } from \"vue\";\nimport { FormRules } from \"../../../utils/common.FormRules\";\nimport { Form } from \"ant-design-vue\";\nimport { API } from \"src/api\";\nimport { orderAsc } from \"src/components/InputKeyValue\";\n\nfunction genTag(name, desc, index) {\n\treturn {\n\t\tnameConfigs: defItem.item({\n\t\t\tprop: \"name\" + index,\n\t\t\tplaceholder: \"tag名称\",\n\t\t\tvalue: name\n\t\t}),\n\t\tdescConfigs: defItem.item({\n\t\t\tprop: \"desc\" + index,\n\t\t\tplaceholder: \"tag描述信息\",\n\t\t\tvalue: desc\n\t\t})\n\t};\n}\n\nexport const DialogUpsertTags = defineComponent({\n\tprops: {\n\t\t/* Dialog 默认传入参数 */\n\t\tpropDialogOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn { __elId: false };\n\t\t\t}\n\t\t}\n\t},\n\tsetup() {\n\t\treturn { State_App };\n\t},\n\tdata() {\n\t\treturn { privateTags: {} };\n\t},\n\twatch: {\n\t\tformData() {\n\t\t\tthis.checkFormDataDebounce();\n\t\t},\n\t\t\"State_App.currProject.tag\": {\n\t\t\timmediate: true,\n\t\t\thandler(tags) {\n\t\t\t\ttags = xU.cloneDeep(tags);\n\t\t\t\tif (xU.isArrayFill(tags)) {\n\t\t\t\t\tlet index = 0;\n\t\t\t\t\tthis.privateTags = xU.reduce(\n\t\t\t\t\t\ttags,\n\t\t\t\t\t\t(tags, tag) => {\n\t\t\t\t\t\t\ttags[index] = genTag(tag.name, tag.desc, index);\n\t\t\t\t\t\t\t++index;\n\t\t\t\t\t\t\treturn tags;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{}\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.privateTags = { 0: genTag(\"\", \"\", 0) };\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tpropProjectId() {\n\t\t\tif (this.State_App.currProject._id) {\n\t\t\t\treturn this.State_App.currProject._id;\n\t\t\t} else {\n\t\t\t\talert(\"miss projectId\");\n\t\t\t}\n\t\t},\n\t\tformData() {\n\t\t\tconst formData = xU.reduce(\n\t\t\t\tthis.privateTags,\n\t\t\t\t(formData, privateTag, index) => {\n\t\t\t\t\tformData[index] = {\n\t\t\t\t\t\tname: privateTag.nameConfigs.value,\n\t\t\t\t\t\tdesc: privateTag.descConfigs.value\n\t\t\t\t\t};\n\t\t\t\t\tconsole.log(formData, privateTag, index);\n\t\t\t\t\treturn formData;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t\treturn formData;\n\t\t}\n\t},\n\tmethods: {\n\t\tcheckFormDataDebounce: xU.debounce(function () {\n\t\t\tthis.isFormDataOk();\n\t\t}, 1000),\n\t\tisFormDataOk() {\n\t\t\tconst res = xU.map(this.formData, ({ name }, index) => {\n\t\t\t\tif (\n\t\t\t\t\txU.some(this.formData, ({ name: _name }, _index) => {\n\t\t\t\t\t\tif (_index == index) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn _name === name;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t) {\n\t\t\t\t\tthis.privateTags[index].nameConfigs.itemTips = {\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tmsg: `${name} 与已有标识重复`\n\t\t\t\t\t};\n\t\t\t\t\treturn FormRules.FAIL;\n\t\t\t\t} else {\n\t\t\t\t\tthis.privateTags[index].nameConfigs.itemTips = {\n\t\t\t\t\t\ttype: \"\",\n\t\t\t\t\t\tmsg: \"\"\n\t\t\t\t\t};\n\t\t\t\t\treturn FormRules.SUCCESS;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn !xU.some(res, i => i === FormRules.FAIL);\n\t\t},\n\t\tdeleteTag(index) {\n\t\t\tconst keys = Object.keys(this.privateTags);\n\t\t\tif (keys.length === 1) {\n\t\t\t\tthis.privateTags = { 0: genTag(\"\", \"\", 0) };\n\t\t\t} else {\n\t\t\t\tdelete this.privateTags[index];\n\t\t\t}\n\t\t},\n\t\taddTag() {\n\t\t\tconst keys = Object.keys(this.privateTags).map(Number).sort(orderAsc);\n\t\t\tconst nextIndex = xU.last(keys) + 1;\n\t\t\tthis.privateTags[nextIndex] = genTag(\"\", \"\", nextIndex);\n\t\t},\n\t\tasync onOk() {\n\t\t\tif (this.isFormDataOk()) {\n\t\t\t\tconst data = {\n\t\t\t\t\tid: this.propProjectId,\n\t\t\t\t\ttag: xU.map(this.formData, item => item)\n\t\t\t\t};\n\t\t\t\tawait API.project.updateTags(data);\n\t\t\t\tawait Methods_App.setCurrProject(this.propProjectId, {\n\t\t\t\t\tisEnforce: true\n\t\t\t\t});\n\t\t\t\tUI.message.success(\"Tag修改成功\");\n\t\t\t\tthis.propDialogOptions.closeDialog();\n\t\t\t}\n\t\t}\n\t},\n\trender() {\n\t\tconst vm = this;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class=\"flex1\" style=\"max-height:500px;overflow:auto;\">\n\t\t\t\t\t{xU.map(this.privateTags, (data, index) => {\n\t\t\t\t\t\tconst { descConfigs, nameConfigs } = data || {};\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div class=\"flex baseline mt10 margin10 \" key={index}>\n\t\t\t\t\t\t\t\t<xItem configs={nameConfigs} />\n\t\t\t\t\t\t\t\t<xGap l=\"10\" />\n\t\t\t\t\t\t\t\t<span class=\"flex middle\">\n\t\t\t\t\t\t\t\t\t<xItem configs={descConfigs} />\n\t\t\t\t\t\t\t\t\t<xGap l=\"10\" />\n\t\t\t\t\t\t\t\t\t<xButton\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.deleteTag(index)}\n\t\t\t\t\t\t\t\t\t\tclass=\"flex middle\">\n\t\t\t\t\t\t\t\t\t\t<xIcon icon=\"delete\" />\n\t\t\t\t\t\t\t\t\t</xButton>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<xDialogFooter>\n\t\t\t\t\t<xButton onClick={this.addTag} class=\"flex middle\">\n\t\t\t\t\t\t<xIcon icon=\"add\" /> 添加新的Tag\n\t\t\t\t\t</xButton>\n\t\t\t\t\t<xGap f=\"1\" />\n\t\t\t\t\t<xButton\n\t\t\t\t\t\tconfigs={{\n\t\t\t\t\t\t\tpreset: \"cancel\",\n\t\t\t\t\t\t\tonClick: this.propDialogOptions.closeDialog\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<xButton configs={{ preset: \"save\", onClick: this.onOk }} />\n\t\t\t\t</xDialogFooter>\n\t\t\t</>\n\t\t);\n\t}\n});\n","import {\r\n\tAllWasWell,\r\n\tdefItem,\r\n\tpickValueFrom,\r\n\tsetValueTo,\r\n\tUI,\r\n\tvalidateForm,\r\n\txU\r\n} from \"@ventose/ui\";\r\nimport { Methods_App, State_App } from \"src/state/State_App\";\r\nimport { defineComponent } from \"vue\";\r\nimport { FormRules } from \"../../../utils/common.FormRules\";\r\nimport { API } from \"src/api\";\r\nimport { ITEM_OPTIONS } from \"./../../../utils/common.options\";\r\nimport {\r\n\tInputKeyValue,\r\n\tmakeKeyValueObj,\r\n\tmakeNameValueObj\r\n} from \"./../../../components/InputKeyValue\";\r\nimport { diff } from \"jsondiffpatch\";\r\n\r\nexport const DialogUpsertProxyEnv = defineComponent({\r\n\tprops: {\r\n\t\t/* Dialog 默认传入参数 */\r\n\t\tpropDialogOptions: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn { __elId: false };\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tsetup() {\r\n\t\treturn { State_App };\r\n\t},\r\n\tdata() {\r\n\t\tconst vm = this;\r\n\t\treturn {\r\n\t\t\tisLoading: true,\r\n\t\t\tprivateEnv: {},\r\n\t\t\tcurrentSelected: \"\",\r\n\t\t\tconfigsForm: {\r\n\t\t\t\t...defItem({ label: \"环境名称\", prop: \"name\" }),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tlabel: \"环境域名\",\r\n\t\t\t\t\tprop: \"domain\",\r\n\t\t\t\t\tslots: {\r\n\t\t\t\t\t\taddonBefore: () => <xItem configs={vm.configsForm.protocol} />\r\n\t\t\t\t\t},\r\n\t\t\t\t\trules: [\r\n\t\t\t\t\t\tFormRules.custom({\r\n\t\t\t\t\t\t\tvalidator(value, { rule }) {\r\n\t\t\t\t\t\t\t\tif (value.length === 0) {\r\n\t\t\t\t\t\t\t\t\trule.msg = \"请输入环境域名!\";\r\n\t\t\t\t\t\t\t\t\treturn FormRules.FAIL;\r\n\t\t\t\t\t\t\t\t} else if (/\\s/.test(value)) {\r\n\t\t\t\t\t\t\t\t\trule.msg = \"环境域名不允许出现空格!\";\r\n\t\t\t\t\t\t\t\t\treturn FormRules.FAIL;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trule.msg = \"\";\r\n\t\t\t\t\t\t\t\t\treturn FormRules.SUCCESS;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t]\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tprop: \"protocol\",\r\n\t\t\t\t\titemType: \"Select\",\r\n\t\t\t\t\toptions: ITEM_OPTIONS.httpProtocol,\r\n\t\t\t\t\tstyle: \"width:100px;\"\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tvalue: [],\r\n\t\t\t\t\tlabel: \"Header\",\r\n\t\t\t\t\tprop: \"header\",\r\n\t\t\t\t\titemType: KeyValuePanel,\r\n\t\t\t\t\tfnCheck(configs) {\r\n\t\t\t\t\t\tif (configs.keyConfigs.value === \"Cookie\") {\r\n\t\t\t\t\t\t\tconfigs.keyConfigs.itemTips = {\r\n\t\t\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\t\t\tmsg: `key 不能为 Cookie`\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\treturn FormRules.FAIL;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn FormRules.SUCCESS;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgenItem(args) {\r\n\t\t\t\t\t\tconst { index, key, value } = args;\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id: index,\r\n\t\t\t\t\t\t\tkeyConfigs: defItem.item({\r\n\t\t\t\t\t\t\t\tprop: \"key\" + index,\r\n\t\t\t\t\t\t\t\tplaceholder: \"Header名称\",\r\n\t\t\t\t\t\t\t\tvalue: key || \"\"\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tvalueConfigs: defItem.item({\r\n\t\t\t\t\t\t\t\tprop: \"value\" + index,\r\n\t\t\t\t\t\t\t\tplaceholder: \"Header值\",\r\n\t\t\t\t\t\t\t\tvalue: value || \"\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tvalue: [],\r\n\t\t\t\t\tlabel: \"Cookie\",\r\n\t\t\t\t\tprop: \"cookie\",\r\n\t\t\t\t\titemType: KeyValuePanel,\r\n\t\t\t\t\tgenItem(args) {\r\n\t\t\t\t\t\tconst { index, key, value } = args;\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id: index,\r\n\t\t\t\t\t\t\tkeyConfigs: defItem.item({\r\n\t\t\t\t\t\t\t\tprop: \"key\" + index,\r\n\t\t\t\t\t\t\t\tplaceholder: \"Cookie名称\",\r\n\t\t\t\t\t\t\t\tvalue: key || \"\"\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tvalueConfigs: defItem.item({\r\n\t\t\t\t\t\t\t\tprop: \"value\" + index,\r\n\t\t\t\t\t\t\t\tplaceholder: \"Cookie值\",\r\n\t\t\t\t\t\t\t\tvalue: value || \"\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tvalue: [],\r\n\t\t\t\t\tlabel: \"global\",\r\n\t\t\t\t\tprop: \"global\",\r\n\t\t\t\t\titemType: KeyValuePanel,\r\n\t\t\t\t\tgenItem(args) {\r\n\t\t\t\t\t\tconst { index, key, value } = args;\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id: index,\r\n\t\t\t\t\t\t\tkeyConfigs: defItem.item({\r\n\t\t\t\t\t\t\t\tprop: \"key\" + index,\r\n\t\t\t\t\t\t\t\tplaceholder: \"global名称\",\r\n\t\t\t\t\t\t\t\tvalue: key || \"\"\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tvalueConfigs: defItem.item({\r\n\t\t\t\t\t\t\t\tprop: \"value\" + index,\r\n\t\t\t\t\t\t\t\tplaceholder: \"global值\",\r\n\t\t\t\t\t\t\t\tvalue: value || \"\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\t\"State_App.currProject.env\": {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(env) {\r\n\t\t\t\tif (!env) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.privateEnv = xU.cloneDeep(env);\r\n\r\n\t\t\t\tlet currentSelected = false;\r\n\t\t\t\t/* 已经打开，非初始状态 */\r\n\t\t\t\tif (this.raw$EnvId) {\r\n\t\t\t\t\tcurrentSelected = xU.find(this.privateEnv, { _id: this.raw$EnvId });\r\n\t\t\t\t\tthis.raw$EnvId = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (!currentSelected) {\r\n\t\t\t\t\tcurrentSelected = xU.first(this.privateEnv);\r\n\t\t\t\t}\r\n\t\t\t\tif (currentSelected) {\r\n\t\t\t\t\tthis.switchEvn(currentSelected, { isEnforce: true });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcurrentSelected: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler() {\r\n\t\t\t\tthis.isLoading = true;\r\n\t\t\t\tthis.setFormValues();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tpropProjectId() {\r\n\t\t\tif (this.State_App.currProject._id) {\r\n\t\t\t\treturn this.State_App.currProject._id;\r\n\t\t\t} else {\r\n\t\t\t\talert(\"miss projectId\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tvDomLeftSide() {\r\n\t\t\treturn (\r\n\t\t\t\t<div class=\"env-list flex vertical flex1 width100 overflow-auto height100 \">\r\n\t\t\t\t\t{xU.map(this.privateEnv, i => {\r\n\t\t\t\t\t\tconst className =\r\n\t\t\t\t\t\t\ti._id === this.currentSelected._id\r\n\t\t\t\t\t\t\t\t? \"delete-env-btn active\"\r\n\t\t\t\t\t\t\t\t: \"delete-env-btn\";\r\n\r\n\t\t\t\t\t\tconst fnDelete = (() => {\r\n\t\t\t\t\t\t\tif (/^new_env/.test(i._id)) {\r\n\t\t\t\t\t\t\t\treturn async () => {\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tawait UI.dialog.confirm({\r\n\t\t\t\t\t\t\t\t\t\t\tcontent: `删除环境变量${i.name}?`\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tconst envIndex = xU.findIndex(this.privateEnv, {\r\n\t\t\t\t\t\t\t\t\t\t\t_id: i._id\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tthis.privateEnv.splice(envIndex, 1);\r\n\t\t\t\t\t\t\t\t\t} catch (error) {}\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn async () => this.deleteEnv(i);\r\n\t\t\t\t\t\t})();\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<aButton\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonClick={() => this.switchEvn(i)}\r\n\t\t\t\t\t\t\t\tclass={className}>\r\n\t\t\t\t\t\t\t\t<div class=\"flex middle\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"flex1 ellipsis\"\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"text-align:left;\"\r\n\t\t\t\t\t\t\t\t\t\tv-uiPopover={{ onlyEllipsis: true, placement: \"left\" }}>\r\n\t\t\t\t\t\t\t\t\t\t{i.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<xIcon\r\n\t\t\t\t\t\t\t\t\t\ticon=\"delete\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"delete-env-icon\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={fnDelete}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</aButton>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\txDomSaveButton() {\r\n\t\t\treturn (\r\n\t\t\t\t<xButton\r\n\t\t\t\t\tconfigs={{ preset: \"save\", onClick: this.onOk }}\r\n\t\t\t\t\tclass=\"ml10\"\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t},\r\n\t\tvdomEnvconfigs() {\r\n\t\t\tconst vDomContent = (() => {\r\n\t\t\t\tif (this.isLoading) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<aSpin\r\n\t\t\t\t\t\t\tspinning={true}\r\n\t\t\t\t\t\t\tclass=\"ant-spin ant-spin-spinning flex middle center height100 width100\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<xForm\r\n\t\t\t\t\t\tlabelStyle={{\r\n\t\t\t\t\t\t\t\"text-align\": \"left\",\r\n\t\t\t\t\t\t\twidth: \"80px\",\r\n\t\t\t\t\t\t\tpadding: \"0 8px\"\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t<xItem configs={this.configsForm.name}>\r\n\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\tafterControll: this.xDomSaveButton\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t</xItem>\r\n\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t<xItem configs={this.configsForm.domain} />\r\n\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t<xItem configs={this.configsForm.global} />\r\n\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t<xItem configs={this.configsForm.header} />\r\n\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t<xItem configs={this.configsForm.cookie} />\r\n\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t</xForm>\r\n\t\t\t\t);\r\n\t\t\t})();\r\n\t\t\treturn (\r\n\t\t\t\t<div class=\"env-configs flex1 padding10 ant-card ant-card-bordered overflow-auto\">\r\n\t\t\t\t\t{vDomContent}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync switchEvn(envItem, options: any = {}) {\r\n\t\t\tconst continu = () => {\r\n\t\t\t\tthis.currentSelected = envItem;\r\n\t\t\t\t/* 数据动态更新后，能通过raw$EnvId找回来 */\r\n\t\t\t\tthis.raw$EnvId = envItem._id;\r\n\t\t\t};\r\n\t\t\tconst isEnforce = options.isEnforce || false;\r\n\r\n\t\t\tif (isEnforce) {\r\n\t\t\t\tcontinu();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst rightData = pickValueFrom(this.configsForm);\r\n\t\t\tvar delta = diff(this.leftData, rightData);\r\n\t\t\tconst keys = Object.keys(delta || {});\r\n\t\t\tif (keys.length > 0) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait UI.dialog.confirm({\r\n\t\t\t\t\t\tcontent: \"有未保存的修改，切换之后将被放弃\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcontinu();\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t} else {\r\n\t\t\t\tcontinu();\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetFormValues() {\r\n\t\t\tconst item = xU.cloneDeep(this.currentSelected || []);\r\n\t\t\titem.name = item.name || \"\";\r\n\r\n\t\t\titem.protocol = (() =>\r\n\t\t\t\titem.domain ? item.domain.split(\"//\")[0] + \"//\" : \"http://\")();\r\n\r\n\t\t\titem.domain = (() => (item.domain ? item.domain.split(\"//\")[1] : \"\"))();\r\n\t\t\t/* cookies */\r\n\t\t\tconst cookieIndex = xU.findIndex(item.header, { name: \"Cookie\" });\r\n\t\t\tif (~cookieIndex) {\r\n\t\t\t\tconst cookieString = item.header.splice(cookieIndex, 1)[0].value;\r\n\t\t\t\tif (cookieString.length > 2) {\r\n\t\t\t\t\titem.cookie = cookieString.split(\";\").map(i => {\r\n\t\t\t\t\t\tif (i) {\r\n\t\t\t\t\t\t\tconst [key, value] = i.split(\"=\");\r\n\t\t\t\t\t\t\treturn { key, value };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\titem.cookie = [];\r\n\t\t\t}\r\n\t\t\titem.header = xU.map(item.header || [], makeKeyValueObj);\r\n\t\t\titem.global = xU.map(item.global || [], makeKeyValueObj);\r\n\t\t\tsetValueTo(this.configsForm, item);\r\n\t\t\t/* 切换env的时候先对比是否已经修改东西 */\r\n\t\t\tthis.leftData = pickValueFrom(this.configsForm);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t}, 64);\r\n\t\t},\r\n\t\tasync onOk() {\r\n\t\t\tconst validateResults = await validateForm(this.configsForm);\r\n\t\t\tif (!AllWasWell(validateResults)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet { name, domain, protocol, header, cookie, global } = pickValueFrom(\r\n\t\t\t\tthis.configsForm\r\n\t\t\t);\r\n\t\t\theader = xU.map(header, makeNameValueObj);\r\n\t\t\tcookie = xU.map(cookie, makeNameValueObj);\r\n\t\t\tglobal = xU.map(global, makeNameValueObj);\r\n\r\n\t\t\tif (cookie.length > 0) {\r\n\t\t\t\theader.push({\r\n\t\t\t\t\tname: \"Cookie\",\r\n\t\t\t\t\tvalue: cookie.map(item => item.name + \"=\" + item.value).join(\";\")\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst env = {\r\n\t\t\t\t_id: this.currentSelected._id,\r\n\t\t\t\tname,\r\n\t\t\t\tdomain: protocol + domain,\r\n\t\t\t\theader: header,\r\n\t\t\t\tglobal\r\n\t\t\t};\r\n\t\t\tconst envIndex = xU.findIndex(this.privateEnv, {\r\n\t\t\t\t_id: env._id\r\n\t\t\t});\r\n\t\t\tif (/^new_env/.test(this.currentSelected._id)) {\r\n\t\t\t\tdelete env._id;\r\n\t\t\t}\r\n\t\t\tconst envArray = xU.cloneDeep(this.privateEnv);\r\n\t\t\tif (~envIndex) {\r\n\t\t\t\tenvArray.splice(envIndex, 1, env);\r\n\t\t\t} else {\r\n\t\t\t\tenvArray.push(env);\r\n\t\t\t}\r\n\t\t\tawait API.project.updateProxyEnv({\r\n\t\t\t\tid: this.propProjectId,\r\n\t\t\t\tenv: envArray\r\n\t\t\t});\r\n\t\t\tUI.message.success(this.$t(\"环境设置成功\").label);\r\n\t\t\tMethods_App.setCurrProject(this.propProjectId, { isEnforce: true });\r\n\t\t},\r\n\t\tasync addEnv() {\r\n\t\t\tconst newItem = {\r\n\t\t\t\theader: [],\r\n\t\t\t\tglobal: [],\r\n\t\t\t\t_id: xU.genId(\"new_env\"),\r\n\t\t\t\tname: xU.genId(\"env_name\"),\r\n\t\t\t\tdomain: \"http://\"\r\n\t\t\t};\r\n\t\t\t/* 更新之后Id是全新的，所以默认第一个 */\r\n\t\t\tthis.privateEnv.unshift(newItem);\r\n\t\t\tthis.switchEvn(newItem, { isEnforce: true });\r\n\t\t},\r\n\t\tasync deleteEnv(item) {\r\n\t\t\tconst id = item._id;\r\n\t\t\ttry {\r\n\t\t\t\tawait UI.dialog.confirm({ content: `删除环境变量${item.name}?` });\r\n\t\t\t\tconst envIndex = xU.findIndex(this.privateEnv, {\r\n\t\t\t\t\t_id: id\r\n\t\t\t\t});\r\n\t\t\t\tconst envArray = xU.cloneDeep(this.privateEnv);\r\n\t\t\t\tenvArray.splice(envIndex, 1);\r\n\t\t\t\tawait API.project.updateProxyEnv({\r\n\t\t\t\t\tid: this.propProjectId,\r\n\t\t\t\t\tenv: envArray\r\n\t\t\t\t});\r\n\t\t\t\tUI.message.success(this.$t(\"环境设置成功\").label);\r\n\t\t\t\tMethods_App.setCurrProject(this.propProjectId, { isEnforce: true });\r\n\t\t\t} catch (error) {}\r\n\t\t}\r\n\t},\r\n\trender() {\r\n\t\tconst vm = this;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"DialogUpsertProxyEnv flex1 flex horizon padding10\"\r\n\t\t\t\t\tstyle=\"overflow:auto;\">\r\n\t\t\t\t\t<div class=\"env-list-wrapper flex vertical\">\r\n\t\t\t\t\t\t<div class=\"flex center mb10\">\r\n\t\t\t\t\t\t\t<xIcon\r\n\t\t\t\t\t\t\t\ticon=\"add\"\r\n\t\t\t\t\t\t\t\tonClick={this.addEnv}\r\n\t\t\t\t\t\t\t\tclass=\"flex middle color-primary pointer\"\r\n\t\t\t\t\t\t\t\tv-uiPopover={{ content: \"添加新环境\", delay: 1000 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.vDomLeftSide}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"env-configs-wrapper flex1 flex\">\r\n\t\t\t\t\t\t{this.vdomEnvconfigs}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nconst KeyValuePanel = args => {\r\n\tconst { properties, listeners } = args;\r\n\tproperties.value = properties.value || [];\r\n\tproperties.fnCheck = properties.fnCheck || false;\r\n\tconst fnUpdate = val => {\r\n\t\tlisteners[\"onUpdate:value\"](val);\r\n\t};\r\n\treturn (\r\n\t\t<div class=\"ant-card ant-card-bordered\">\r\n\t\t\t<InputKeyValue\r\n\t\t\t\titems={properties.value}\r\n\t\t\t\tonUpdate:items={fnUpdate}\r\n\t\t\t\tgenItem={properties.genItem}\r\n\t\t\t\tfnCheck={properties.fnCheck}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import {\r\n\tcompileVNode,\r\n\tdefCol,\r\n\tdefItem,\r\n\tdefXVirTableConfigs,\r\n\txU\r\n} from \"@ventose/ui\";\r\nimport { State_Project } from \"src/containers/Project/Interface/State_Project\";\r\nimport { Cpt_url } from \"src/router/router\";\r\nimport { ITEM_OPTIONS, ITEM_OPTIONS_VDOM } from \"src/utils/common.options\";\r\nimport { defineComponent } from \"vue\";\r\n\r\nfunction newFormData() {\r\n\treturn {\r\n\t\t_id: xU.genId(\"body_params\"),\r\n\t\tname: \"\",\r\n\t\ttype: \"text\",\r\n\t\trequired: \"1\",\r\n\t\tdesc: \"\",\r\n\t\texample: \"\"\r\n\t};\r\n}\r\n\r\nconst STRATEGY_CELL_ITEM_CONFIGS = {\r\n\tname: {},\r\n\trequired: {\r\n\t\titemType: \"Select\",\r\n\t\toptions: ITEM_OPTIONS.required\r\n\t},\r\n\texample: {},\r\n\tdesc: {}\r\n};\r\nconst BODY_PARAM_PROP_ARRAY = Object.keys(STRATEGY_CELL_ITEM_CONFIGS);\r\n\r\n/* virTable 的 renderCell 缓存标识 ,关键是唯一，具体是啥无所谓，所以这里不用过分考虑顺序*/\r\n\r\nexport const BodyParamsForm = defineComponent({\r\n\tprops: [\"reqBodyForm\"],\r\n\twatch: {\r\n\t\treqBodyForm: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(reqBodyForm) {\r\n\t\t\t\tthis.resetDataForm(reqBodyForm);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\taddRow() {\r\n\t\t\tthis.configs_table.dataSource.unshift(newFormData());\r\n\t\t},\r\n\t\tdeleteRow(_id) {\r\n\t\t\tconst index = xU.findIndex(this.configs_table.dataSource, { _id });\r\n\t\t\tif (~index) {\r\n\t\t\t\tthis.configs_table.dataSource.splice(index, 1);\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetDataForm(newFormDataArray) {\r\n\t\t\tthis.configs_table.dataSource = newFormDataArray;\r\n\t\t}\r\n\t},\r\n\tdata(vm) {\r\n\t\treturn {\r\n\t\t\tconfigs_table: defXVirTableConfigs({\r\n\t\t\t\trowHeight: 36,\r\n\t\t\t\tdataSource: [],\r\n\t\t\t\tcustomClass: tableId =>\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t`#${tableId} .input-width100{width:100%;}`,\r\n\t\t\t\t\t\t`#${tableId} div[role=td] .ant-tag{margin:auto;}`,\r\n\t\t\t\t\t\t`#${tableId} div[role=tr] div[role=th][data-prop=operations]{justify-content:center;}`,\r\n\t\t\t\t\t\t`#${tableId} div[role=tr] div[role=td][data-prop=operations]{justify-content:center;color:red;}`\r\n\t\t\t\t\t].join(\"\\n\"),\r\n\t\t\t\tcolumns: {\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"名称\").label,\r\n\t\t\t\t\t\tprop: \"name\",\r\n\t\t\t\t\t\trenderEditor: ({ record }) => <aInput v-model:value={record.name} />\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"类型\").label,\r\n\t\t\t\t\t\tprop: \"type\",\r\n\t\t\t\t\t\twidth: \"110px\",\r\n\t\t\t\t\t\trenderCell: ({ record }) =>\r\n\t\t\t\t\t\t\tITEM_OPTIONS_VDOM.interfaceBodyFormType(record.type),\r\n\t\t\t\t\t\trenderEditor: ({ record }) => (\r\n\t\t\t\t\t\t\t<aSelect\r\n\t\t\t\t\t\t\t\toptions={ITEM_OPTIONS.interfaceBodyFormType}\r\n\t\t\t\t\t\t\t\tv-model:value={record.type}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"必需\").label,\r\n\t\t\t\t\t\tprop: \"required\",\r\n\t\t\t\t\t\twidth: \"110px\",\r\n\t\t\t\t\t\trenderCell: ({ record }) =>\r\n\t\t\t\t\t\t\tITEM_OPTIONS_VDOM.required(record.required),\r\n\t\t\t\t\t\trenderEditor: ({ record }) => (\r\n\t\t\t\t\t\t\t<aSelect\r\n\t\t\t\t\t\t\t\toptions={ITEM_OPTIONS.required}\r\n\t\t\t\t\t\t\t\tv-model:value={record.required}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"示例\").label,\r\n\t\t\t\t\t\tprop: \"example\",\r\n\t\t\t\t\t\trenderEditor: ({ record }) => (\r\n\t\t\t\t\t\t\t<aInput v-model:value={record.example} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"备注\").label,\r\n\t\t\t\t\t\tprop: \"desc\",\r\n\t\t\t\t\t\trenderEditor: ({ record }) => <aInput v-model:value={record.desc} />\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"操作\").label,\r\n\t\t\t\t\t\tprop: \"operations\",\r\n\t\t\t\t\t\twidth: \"40px\",\r\n\t\t\t\t\t\trenderHeader: () => null,\r\n\t\t\t\t\t\trenderCell: ({ record }) => (\r\n\t\t\t\t\t\t\t<xIcon\r\n\t\t\t\t\t\t\t\ticon=\"delete\"\r\n\t\t\t\t\t\t\t\tclass=\"pointer\"\r\n\t\t\t\t\t\t\t\tonClick={() => vm.deleteRow(record._id)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t};\r\n\t},\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<aButton class=\"width100 mb10\" type=\"dashed\" onClick={this.addRow}>\r\n\t\t\t\t\t<xIcon icon=\"add\" />\r\n\t\t\t\t\t{/* {JSON.stringify(this.configs_table.dataSource, null, 2)} */}\r\n\t\t\t\t</aButton>\r\n\t\t\t\t<div style={{ height: \"300px\" }}>\r\n\t\t\t\t\t<xVirTable configs={this.configs_table} class=\"flex1 width100 \" />\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n});\r\n","import { defineComponent } from \"vue\";\n\nexport const objectNeedProps = [\"maxProperties\", \"minProperties\"];\n\nexport const SubformObject = defineComponent({\n\tprops: [\"configs\", \"data\"],\n\trender(vm) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t<div class=\"flex middle\">\n\t\t\t\t\t<xItem\n\t\t\t\t\t\tconfigs={vm.configs.minProperties}\n\t\t\t\t\t\tv-model={vm.data.minProperties}\n\t\t\t\t\t\tclass=\"flex1\"\n\t\t\t\t\t/>\n\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t<xItem\n\t\t\t\t\t\tconfigs={vm.configs.maxProperties}\n\t\t\t\t\t\tv-model={vm.data.maxProperties}\n\t\t\t\t\t\tclass=\"flex1\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n});\n","import { defineComponent } from \"vue\";\r\n\r\nexport const stringNeedProps = [\r\n\t\"default\",\r\n\t\"minLength\",\r\n\t\"maxLength\",\r\n\t\"pattern\",\r\n\t\"enum\",\r\n\t\"isUseEnum\",\r\n\t\"enumDesc\",\r\n\t\"format\"\r\n];\r\n\r\nexport const SubformString = defineComponent({\r\n\tprops: [\"configs\", \"data\"],\r\n\trender(vm) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t<xItem configs={vm.configs.default} v-model={vm.data.default} />\r\n\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t<div class=\"flex middle\">\r\n\t\t\t\t\t<xItem\r\n\t\t\t\t\t\tconfigs={vm.configs.minLength}\r\n\t\t\t\t\t\tv-model={vm.data.minLength}\r\n\t\t\t\t\t\tclass=\"flex1\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t<xItem\r\n\t\t\t\t\t\tconfigs={vm.configs.maxLength}\r\n\t\t\t\t\t\tv-model={vm.data.maxLength}\r\n\t\t\t\t\t\tclass=\"flex1\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t<xItem configs={vm.configs.pattern} v-model={vm.data.pattern} />\r\n\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t<xItem configs={vm.configs.enum} v-model={vm.data.enum}>\r\n\t\t\t\t\t{/* 勾选之后才会显示enum备注 */}\r\n\t\t\t\t\t{{\r\n\t\t\t\t\t\tafterControll: () => (\r\n\t\t\t\t\t\t\t<aCheckbox\r\n\t\t\t\t\t\t\t\tclass=\"ml10\"\r\n\t\t\t\t\t\t\t\tchecked={!!vm.data.isUseEnum}\r\n\t\t\t\t\t\t\t\tonUpdate:checked={val => {\r\n\t\t\t\t\t\t\t\t\tvm.configs.enum.disabled = !val;\r\n\t\t\t\t\t\t\t\t\tvm.data.isUseEnum = val;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t</xItem>\r\n\t\t\t\t{vm.data.isUseEnum ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t<xItem configs={vm.configs.enumDesc} v-model={vm.data.enumDesc} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t<xItem configs={vm.configs.format} v-model={vm.data.format} />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n});\r\n","import { defineComponent } from \"vue\";\nimport { xU } from \"../../devui/ui/ventoseUtils\";\n\nexport const numberNeedProps = [\n\t\"default\",\n\t\"maximum\",\n\t\"minimum\",\n\t\"exclusiveMaximum\",\n\t\"exclusiveMinimum\",\n\t\"enum\",\n\t\"default\",\n\t\"isUseEnum\"\n];\n\nexport const SubformNumber = defineComponent({\n\tprops: [\"configs\", \"data\", \"integer\"],\n\tmethods: {\n\t\tparserNum(val) {\n\t\t\tif (this.integer) {\n\t\t\t\treturn parseInt(Number(val));\n\t\t\t}\n\t\t\treturn val;\n\t\t}\n\t},\n\trender(vm) {\n\t\txU(vm.integer);\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t<xItem configs={vm.configs.default} v-model={vm.data.default} />\n\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t<div class=\" ant-form-item ant-form-item-with-help x-item flex \">\n\t\t\t\t\t<xItem\n\t\t\t\t\t\tconfigs={vm.configs.minimum}\n\t\t\t\t\t\tv-model={vm.data.minimum}\n\t\t\t\t\t\tclass=\"flex1\"\n\t\t\t\t\t\tparser={val => vm.parserNum(val)}\n\t\t\t\t\t/>\n\t\t\t\t\t<xItem\n\t\t\t\t\t\tconfigs={vm.configs.exclusiveMinimum}\n\t\t\t\t\t\tv-model={vm.data.exclusiveMinimum}\n\t\t\t\t\t/>\n\t\t\t\t\t<xGap r=\"16\" />\n\t\t\t\t</div>\n\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t<div class=\" ant-form-item ant-form-item-with-help x-item flex \">\n\t\t\t\t\t<xItem\n\t\t\t\t\t\tconfigs={vm.configs.maximum}\n\t\t\t\t\t\tv-model={vm.data.maximum}\n\t\t\t\t\t\tclass=\"flex1\"\n\t\t\t\t\t\tparser={val => vm.parserNum(val)}\n\t\t\t\t\t/>\n\t\t\t\t\t<xItem\n\t\t\t\t\t\tconfigs={vm.configs.exclusiveMaximum}\n\t\t\t\t\t\tv-model={vm.data.exclusiveMaximum}\n\t\t\t\t\t/>\n\t\t\t\t\t<xGap r=\"16\" />\n\t\t\t\t</div>\n\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t<xItem configs={vm.configs.enum} v-model={vm.data.enum}>\n\t\t\t\t\t{/* 勾选之后才会显示enum备注 */}\n\t\t\t\t\t{{\n\t\t\t\t\t\tafterControll: () => (\n\t\t\t\t\t\t\t<aCheckbox\n\t\t\t\t\t\t\t\tclass=\"ml10\"\n\t\t\t\t\t\t\t\tchecked={!!vm.data.isUseEnum}\n\t\t\t\t\t\t\t\tonUpdate:checked={val => {\n\t\t\t\t\t\t\t\t\tvm.configs.enum.disabled = !val;\n\t\t\t\t\t\t\t\t\tvm.data.isUseEnum = val;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</xItem>\n\t\t\t\t{vm.data.isUseEnum ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<xItem configs={vm.configs.enumDesc} v-model={vm.data.enumDesc} />\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\t\t\t</>\n\t\t);\n\t}\n});\n","import { defineComponent } from \"vue\";\n\nexport const arrayNeedProps = [\"maxItems\", \"minItems\", \"uniqueItems\"];\n\nexport const SubformArray = defineComponent({\n\tprops: [\"configs\", \"data\"],\n\trender(vm) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t<div className=\"flex middle\">\n\t\t\t\t\t<xItem\n\t\t\t\t\t\tconfigs={vm.configs.minItems}\n\t\t\t\t\t\tv-model={vm.data.minItems}\n\t\t\t\t\t\tclass=\"flex1\"\n\t\t\t\t\t/>\n\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t<xItem\n\t\t\t\t\t\tconfigs={vm.configs.maxItems}\n\t\t\t\t\t\tv-model={vm.data.maxItems}\n\t\t\t\t\t\tclass=\"flex1\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t<xItem configs={vm.configs.uniqueItems} v-model={vm.data.uniqueItems} />\n\t\t\t</>\n\t\t);\n\t}\n});\n","import { defineComponent } from \"vue\";\n\nexport const booleanNeedProps = [\"booleanDefault\"];\n\nexport const SubformBoolean = defineComponent({\n\tprops: [\"configs\", \"data\"],\n\trender(vm) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t<xItem\n\t\t\t\t\tconfigs={vm.configs.booleanDefault}\n\t\t\t\t\tv-model={vm.data.booleanDefault}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n});\n","import {\r\n\tAllWasWell,\r\n\tcomponents,\r\n\tdefItem,\r\n\tFormRules,\r\n\tpickValueFrom,\r\n\tvalidateForm,\r\n\txU\r\n} from \"@ventose/ui\";\r\nimport { defineComponent, h, inject } from \"vue\";\r\nimport { ITEM_OPTIONS } from \"src/utils/common.options\";\r\nimport { SubformObject, objectNeedProps } from \"./SubformObject\";\r\nimport { SubformString, stringNeedProps } from \"./SubformString\";\r\nimport { SubformNumber, numberNeedProps } from \"./SubformNumber\";\r\nimport { SubformArray, arrayNeedProps } from \"./SubformArray\";\r\nimport { SubformBoolean, booleanNeedProps } from \"./SubformBoolean\";\r\n\r\nconst { xIcon } = components;\r\n\r\nexport const SPE = \".properties.\";\r\nexport const ICON_STRATEGE = {\r\n\tobject: () => h(xIcon, { icon: \"type_object\" }),\r\n\tarray: () => h(xIcon, { icon: \"type_array\" }),\r\n\tstring: () => h(xIcon, { icon: \"type_string\" }),\r\n\tnumber: () => h(xIcon, { icon: \"type_number\" }),\r\n\tboolean: () => h(xIcon, { icon: \"type_boolean\" }),\r\n\tinteger: () => h(xIcon, { icon: \"type_int\" })\r\n};\r\n\r\nexport const SchemaEditor = defineComponent({\r\n\temits: [\"nodeSync\"],\r\n\tsetup() {\r\n\t\t/* JsonSchemaMonaco instance */\r\n\t\tconst jsmVM = inject(\"jsmVM\");\r\n\t\treturn {\r\n\t\t\tjsmVM\r\n\t\t};\r\n\t},\r\n\tdata(vm) {\r\n\t\treturn {\r\n\t\t\tdataXItem: {\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\t/* 在编辑的时候不需要变化，但是在同步的时候需要提交【newKey，oldKey】，oldKey用于定位原属性位置 */\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"key\",\r\n\t\t\t\t\tlabel: vm.$t(\"对象访问路径\").label,\r\n\t\t\t\t\treadonly: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"title\",\r\n\t\t\t\t\tlabel: vm.$t(\"字段名\").label,\r\n\t\t\t\t\trules: [FormRules.required()]\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"description\",\r\n\t\t\t\t\tlabel: vm.$t(\"描述\").label,\r\n\t\t\t\t\tisTextarea: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"0\",\r\n\t\t\t\t\tprop: \"required\",\r\n\t\t\t\t\tlabel: vm.$t(\"是否必须\").label,\r\n\t\t\t\t\titemType: \"RadioGroup\",\r\n\t\t\t\t\toptions: ITEM_OPTIONS.required\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tvalue: \"object\",\r\n\t\t\t\t\tprop: \"type\",\r\n\t\t\t\t\tlabel: vm.$t(\"类型\").label,\r\n\t\t\t\t\titemType: \"RadioGroup\",\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t\"object\",\r\n\t\t\t\t\t\t\"string\",\r\n\t\t\t\t\t\t\"number\",\r\n\t\t\t\t\t\t\"array\",\r\n\t\t\t\t\t\t\"boolean\",\r\n\t\t\t\t\t\t\"integer\"\r\n\t\t\t\t\t].map(type => ({\r\n\t\t\t\t\t\tlabel: (\r\n\t\t\t\t\t\t\t<span class=\"mr10\" title={type}>\r\n\t\t\t\t\t\t\t\t{ICON_STRATEGE[type]()}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tvalue: type\r\n\t\t\t\t\t}))\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"enum\",\r\n\t\t\t\t\tlabel: vm.$t(\"枚举\").label,\r\n\t\t\t\t\tisTextarea: true,\r\n\t\t\t\t\tplaceholder: vm.$t(\"一行一个值，不需要符号分隔\").label,\r\n\t\t\t\t\tdisabled: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"enumDesc\",\r\n\t\t\t\t\tisTextarea: true,\r\n\t\t\t\t\tlabel: vm.$t(\"枚举描述\").label\r\n\t\t\t\t}),\r\n\t\t\t\t/* object */\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"minProperties\",\r\n\t\t\t\t\tlabel: vm.$t(\"最小元素个数\").label,\r\n\t\t\t\t\tisNumber: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"maxProperties\",\r\n\t\t\t\t\tlabel: vm.$t(\"最大元素个数\").label,\r\n\t\t\t\t\tisNumber: true\r\n\t\t\t\t}),\r\n\t\t\t\t/* string */\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"default\",\r\n\t\t\t\t\tlabel: vm.$t(\"默认值\").label\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"minLength\",\r\n\t\t\t\t\tlabel: vm.$t(\"最小字符数\").label,\r\n\t\t\t\t\tisNumber: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"maxLength\",\r\n\t\t\t\t\tlabel: vm.$t(\"最大字符数\").label,\r\n\t\t\t\t\tisNumber: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"pattern\",\r\n\t\t\t\t\tplaceholder: vm.$t(\"new RegExp(xxxxxxx)适用\").label,\r\n\t\t\t\t\tlabel: vm.$t(\"正则表达式\").label\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"format\",\r\n\t\t\t\t\tlabel: vm.$t(\"格式\").label,\r\n\t\t\t\t\titemType: \"Select\",\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t\"date\",\r\n\t\t\t\t\t\t\"date-time\",\r\n\t\t\t\t\t\t\"email\",\r\n\t\t\t\t\t\t\"hostname\",\r\n\t\t\t\t\t\t\"ipv4\",\r\n\t\t\t\t\t\t\"ipv6\",\r\n\t\t\t\t\t\t\"uri\"\r\n\t\t\t\t\t].map(label => ({ label, value: label })),\r\n\t\t\t\t\tallowClear: true\r\n\t\t\t\t}),\r\n\t\t\t\t/* number */\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"minimum\",\r\n\t\t\t\t\tlabel: vm.$t(\"最小值\").label,\r\n\t\t\t\t\tisNumber: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"maximum\",\r\n\t\t\t\t\tlabel: vm.$t(\"最大值\").label,\r\n\t\t\t\t\tisNumber: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: false,\r\n\t\t\t\t\titemType: \"Checkbox\",\r\n\t\t\t\t\tprop: \"exclusiveMinimum\",\r\n\t\t\t\t\tlabel: vm.$t(\"不包含最小值\").label\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: false,\r\n\t\t\t\t\titemType: \"Checkbox\",\r\n\t\t\t\t\tprop: \"exclusiveMaximum\",\r\n\t\t\t\t\tlabel: vm.$t(\"不包含最大值\").label\r\n\t\t\t\t}),\r\n\t\t\t\t/* array */\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"minItems\",\r\n\t\t\t\t\tlabel: vm.$t(\"最小元素个数\").label,\r\n\t\t\t\t\tisNumber: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\tprop: \"maxItems\",\r\n\t\t\t\t\tlabel: vm.$t(\"最大元素个数\").label,\r\n\t\t\t\t\tisNumber: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: false,\r\n\t\t\t\t\titemType: \"Checkbox\",\r\n\t\t\t\t\tprop: \"uniqueItems\",\r\n\t\t\t\t\tlabel: vm.$t(\"元素不可重复\").label\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tdefaultValue: \"\",\r\n\t\t\t\t\titemType: \"Select\",\r\n\t\t\t\t\tallowClear: true,\r\n\t\t\t\t\tprop: \"booleanDefault\",\r\n\t\t\t\t\tlabel: vm.$t(\"默认值\").label,\r\n\t\t\t\t\toptions: ITEM_OPTIONS.YesOrNo\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tasync syncToJsonTree() {\r\n\t\t\tconst baseProps = [\"key\", \"title\", \"description\", \"required\", \"type\"];\r\n\t\t\tconst SUB_PROPS_STRATEGY = {\r\n\t\t\t\tobject: objectNeedProps,\r\n\t\t\t\tstring: stringNeedProps,\r\n\t\t\t\tnumber: numberNeedProps,\r\n\t\t\t\tarray: arrayNeedProps,\r\n\t\t\t\tboolean: booleanNeedProps,\r\n\t\t\t\tinteger: numberNeedProps\r\n\t\t\t};\r\n\r\n\t\t\tconst { type, title } = this.currentNode;\r\n\t\t\tconst currentTypeNeedProps = baseProps.concat(SUB_PROPS_STRATEGY[type]);\r\n\t\t\tconst targetValues = xU.pick(this.currentNode, currentTypeNeedProps);\r\n\t\t\t/* 需要记录出示的Node 的 Key ，才能在同步的时候找到原始的值 */\r\n\t\t\tconst validateResults = await validateForm(this.dataXItem, targetValues);\r\n\r\n\t\t\tif (AllWasWell(validateResults)) {\r\n\t\t\t\tconst oldkey = String(this.currentNode.key);\r\n\t\t\t\t/* key：对象的访问路径，纯代码角度，用于定位和替换 */\r\n\t\t\t\tconst newKey = (() => {\r\n\t\t\t\t\tconst array = oldkey.split(SPE);\r\n\t\t\t\t\tarray[array.length - 1] = title;\r\n\t\t\t\t\treturn array.join(SPE);\r\n\t\t\t\t})();\r\n\t\t\t\t/* root添加属性 */\r\n\r\n\t\t\t\tif (type === \"object\") {\r\n\t\t\t\t\tdelete targetValues.children;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* 非root */\r\n\t\t\t\tthis.$emit(\"nodeSync\", oldkey, {\r\n\t\t\t\t\t...targetValues,\r\n\t\t\t\t\tkey: newKey\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tcurrentNode: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.jsmVM.currentNode;\r\n\t\t\t},\r\n\t\t\tset(currentNode) {\r\n\t\t\t\tif (currentNode.key !== this.jsmVM.currentNode.key) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.jsmVM.currentNode = xU.merge(\r\n\t\t\t\t\t\t{},\r\n\t\t\t\t\t\tthis.jsmVM.currentNode,\r\n\t\t\t\t\t\tcurrentNode\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\trender(vm) {\r\n\t\tif (!vm.currentNode) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"SchemaEditor flex vertical flex1\">\r\n\t\t\t\t<div class=\"SchemaEditor_button \">\r\n\t\t\t\t\t<aButton onClick={vm.syncToJsonTree} type=\"primary\">\r\n\t\t\t\t\t\t{vm.$t(\"同步到 JSON 树\").label}\r\n\t\t\t\t\t</aButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t<xForm\r\n\t\t\t\t\tclass=\"flex vertical flex1 overflow-auto\"\r\n\t\t\t\t\tlabelStyle={{ \"min-width\": \"120px\", width: \"unset\" }}>\r\n\t\t\t\t\t<xItem configs={this.dataXItem.key} v-model={vm.currentNode.key} />\r\n\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t<xItem\r\n\t\t\t\t\t\tconfigs={this.dataXItem.title}\r\n\t\t\t\t\t\tv-model={vm.currentNode.title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t<xItem\r\n\t\t\t\t\t\tconfigs={this.dataXItem.description}\r\n\t\t\t\t\t\tv-model={vm.currentNode.description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t<xItem\r\n\t\t\t\t\t\tconfigs={this.dataXItem.required}\r\n\t\t\t\t\t\tv-model={vm.currentNode.required}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t<xItem configs={this.dataXItem.type} v-model={vm.currentNode.type} />\r\n\t\t\t\t\t{vm.currentNode.type === \"object\" && (\r\n\t\t\t\t\t\t<SubformObject configs={this.dataXItem} data={vm.currentNode} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{vm.currentNode.type === \"string\" && (\r\n\t\t\t\t\t\t<SubformString configs={this.dataXItem} data={vm.currentNode} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{vm.currentNode.type === \"number\" && (\r\n\t\t\t\t\t\t<SubformNumber configs={this.dataXItem} data={vm.currentNode} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{vm.currentNode.type === \"array\" && (\r\n\t\t\t\t\t\t<SubformArray configs={this.dataXItem} data={vm.currentNode} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{vm.currentNode.type === \"boolean\" && (\r\n\t\t\t\t\t\t<SubformBoolean configs={this.dataXItem} data={vm.currentNode} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{vm.currentNode.type === \"integer\" && (\r\n\t\t\t\t\t\t<SubformNumber\r\n\t\t\t\t\t\t\tconfigs={this.dataXItem}\r\n\t\t\t\t\t\t\tdata={vm.currentNode}\r\n\t\t\t\t\t\t\tinteger\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</xForm>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n","(function (factory) {\n  if (typeof exports == 'object') {\n    module.exports = factory();\n  } else if ((typeof define == 'function') && define.amd) {\n    define(factory);\n  }\n}(function () {\n\n  var isBuiltIn = (function () {\n    var built_ins = [\n      Object,\n      Function,\n      Array,\n      String,\n      Boolean,\n      Number,\n      Date,\n      RegExp,\n      Error\n    ];\n    var built_ins_length = built_ins.length;\n\n    return function (_constructor) {\n      for (var i = 0; i < built_ins_length; i++) {\n        if (built_ins[i] === _constructor) {\n          return true;\n        }\n      }\n      return false;\n    };\n  })();\n\n  var stringType = (function () {\n    var _toString = ({}).toString;\n\n    return function (obj) {\n      // [object Blah] -> Blah\n      var stype = _toString.call(obj).slice(8, -1);\n\n      if ((obj === null) || (obj === undefined)) {\n        return stype.toLowerCase();\n      }\n\n      var ctype = of(obj);\n\n      if (ctype && !isBuiltIn(ctype)) {\n        return ctype.name;\n      } else {\n        return stype;\n      }\n    };\n  })();\n\n  function of (obj) {\n    if ((obj === null) || (obj === undefined)) {\n      return obj;\n    } else {\n      return obj.constructor;\n    }\n  }\n\n  function is (obj, test) {\n    var typer = (of(test) === String) ? stringType : of;\n    return (typer(obj) === test);\n  }\n\n  function instance (obj, test) {\n    return (obj instanceof test);\n  }\n\n  function extension (_Extension, _Base) {\n    return instance(_Extension.prototype, _Base);\n  }\n\n  function any (obj, tests) {\n    if (!is(tests, Array)) {\n      throw (\"Second argument to .any() should be array\")\n    }\n    for (var i = 0; i < tests.length; i++) {\n      var test = tests[i];\n      if (is(obj, test)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  var exports = function (obj, type) {\n    if (arguments.length == 1) {\n      return of(obj);\n    } else {\n      if (is(type, Array)) {\n        return any(obj, type);\n      } else {\n        return is(obj, type);\n      }\n    }\n  }\n\n  exports.instance  = instance;\n  exports.string    = stringType;\n  exports.of        = of;\n  exports.is        = is;\n  exports.any       = any;\n  exports.extension = extension;\n  return exports;\n\n}));\n","var DATE_REGEXP = /\\d{4}-\\d{2}-\\d{2}/\n\nexports.isNumber = function (value) {\n\treturn (typeof value === 'number' || Object.prototype.toString.call(value) === '[object Number]')\n}\n\nexports.isDate = function (date) {\n  return ((new Date(date).toString() !== 'Invalid Date' && !isNaN(new Date(date))))\n}\n\nexports.isTimestamp = function (string) {\n  return string.length > 18 && !isNaN((new Date(string)).getTime())\n}\n\nexports.isDateString = function (string) {\n  return string.match(DATE_REGEXP)\n}\n\nexports.arrayLastItem = function (arr) {\n  return arr[arr.length - 1]\n}\n","// Modules\nvar Type = require('type-of-is')\nvar Utils = require('../utils')\n\nmodule.exports = function Process (object, output) {\n  output = output || {}\n\n  for (var key in object) {\n    var value = object[key]\n    var type = Type.string(value).toLowerCase()\n\n    if (type === 'undefined') {\n      type = 'null'\n    }\n\n    if (type === 'string' && Utils.isDate(value)) {\n      type = 'date'\n    }\n\n    if (type !== 'object') {\n      output[key] = {\n        type: type\n      }\n    } else {\n      output[key] = Process(object[key])\n      output[key].type = type\n    }\n  }\n\n  return output\n}","// Modules\nvar Type = require('type-of-is')\nvar Utils = require('../utils')\n\nfunction getNativeType (string) {\n  switch (string) {\n    case \"array\":\n      return 'Array'\n\n    case \"buffer\":\n      return 'Buffer'\n\n    case \"boolean\":\n      return 'Boolean'\n\n    case \"date\":\n      return 'Date'\n\n    case \"number\":\n      return 'Number'\n\n    case \"string\":\n      return 'String'\n\n    case \"objectid\":\n      return 'ObjectId'\n\n    case \"null\":\n    case \"undefined\":\n    case \"regexp\":\n    default:\n      return 'Mixed'\n  }\n}\n\nmodule.exports = function Process (object, output) {\n  var output = output || {}\n\n  for (var key in object) {\n    var value = object[key]\n    var originalType = null\n    var elementType = null\n    var type = null\n\n    if (value instanceof Buffer) {\n      type = 'buffer'\n    }\n\n    if (value != null && typeof value.toString !== 'undefined' && value.toString().match(/^[0-9a-fA-F]{24}$/)) {\n      type = 'objectid'\n    }\n\n    if (!type) {\n      type = Type.string(value).toLowerCase()\n    }\n\n    if (type === 'string' && Utils.isDate(value)) {\n      type = 'date'\n    }\n\n    if (type === 'object') {\n      output[key] = Process(object[key])\n    } else {\n      if (type === 'undefined') {\n        type = 'null'\n      }\n\n      if (type === 'array' && value.length) {\n        originalType = type\n        type = undefined\n\n        for (var index = 0, length = value.length; index < length; index++) {\n          elementType = Type.string(value[index]).toLowerCase()\n\n          if (type && elementType !== type) {\n            type = 'mixed'\n            break\n          } else {\n            type = elementType\n          }\n        }\n      }\n\n      if (originalType && originalType === 'array') {\n        output[key] = { type: [getNativeType(type)] }\n      } else {\n        output[key] = { type: getNativeType(type) }\n      }\n    }\n  }\n\n  return output\n}","var utils = require('../utils')\n\nfunction getPropertyMode (value) {\n  return Array.isArray(value) ? 'REPEATED' : 'NULLABLE'\n}\n\nfunction getPropertyType (value) {\n  if (Array.isArray(value)) {\n    return getPropertyType(value[0])\n  }\n\n  if (value instanceof Date) return 'TIMESTAMP'\n  if (typeof value === 'object') return 'RECORD'\n  if (typeof value === 'boolean') return 'BOOLEAN'\n  if (typeof value === 'string') {\n    if (utils.isDateString(value)) return 'DATE'\n    if (utils.isTimestamp(value)) return 'TIMESTAMP'\n  }\n\n  if (!isNaN(value)) {\n    return Number.isInteger(parseFloat(value)) ? 'INTEGER' : 'FLOAT'\n  }\n\n  return 'STRING'\n}\n\nfunction processFields (data) {\n  return Object.keys(data).map(function (key) {\n    var value = data[key]\n    var entry = {\n      name: key,\n      type: getPropertyType(data[key]),\n      mode: getPropertyMode(data[key])\n    }\n\n    if (entry.type === 'RECORD') {\n      entry.fields = processFields((entry.mode === 'REPEATED') ? value[0] : value)\n    }\n\n    return entry\n  })\n}\n\nmodule.exports = function Process (data) {\n  return processFields(data)\n}\n","// Modules\nvar Type = require('type-of-is')\nvar Utils = require('../utils')\n\n// Type Mapping\nvar types = {\n  boolean: 'BOOLEAN',\n  string: 'TEXT',\n  number: 'INT',\n  date: 'DATE',\n  timestamp: 'TIMESTAMP',\n  'regexp': 'TEXT',\n  'undefined': 'TEXT',\n  'null': 'TEXT'\n}\n\nvar lang = {\n  create: function (name) {\n    return ['CREATE TABLE ', name, ' ('].join('')\n  },\n\n  close: function () {\n    return ');'\n  },\n\n  id: function (name, value) {\n    return ['  ', name, '_id ', value, ','].join('')\n  },\n\n  property: function (name, value) {\n    return ['  ', name, ' ', value, ','].join('')\n  },\n\n  primary: function (id) {\n    return ['  PRIMARY KEY (', id, '),'].join('')\n  },\n\n  foreign: function (key1, table, key2) {\n    return ['  FOREIGN KEY (', key1, ') REFERENCES ', table, '(', key2, '),'].join('')\n  },\n}\n\nfunction processObject (obj, options) {\n  var name = options.tableName\n  var parent = options.parentTableName\n  var parentId = options.parentTableId\n  var parentIdType = options.parentTableIdType\n\n  // In-memory storage\n  var keys = Object.keys(obj)\n  var output = []\n  var tables = []\n\n  // Table variables\n  var id = null\n  var idType = 'string'\n\n  // Initialize Table\n  output.push(lang.create(name))\n\n  if (parent) {\n    output.push(lang.property(parent + '_' + parentId, types[parentIdType]))\n  }\n  \n  // Obtain ID\n  var nkey\n  for (var i = 0; i < keys.length; i++) {\n    if (keys[i].toLowerCase() === 'id' || keys[i].toLowerCase().indexOf('_id') > -1) {\n      nkey = keys[i]\n      obj[nkey] = obj[keys[i]]\n      keys[i] = nkey\n      id = keys[i]\n      idType = typeof obj[keys[i]]\n    }\n  }\n\n  if (!id) {\n    id = 'id'\n    idType = parentIdType || idType\n    output.push(lang.property(id, types[idType]))\n  }\n\n  // Create table properties\n  var key, value, type\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i]\n    value = obj[key]\n    type = value instanceof Date\n      ? 'date'\n      : Type.string(value).toLowerCase()\n\n    if (type !== 'undefined') {\n      type = Utils.isTimestamp(value) ? 'timestamp' : type\n    }\n\n    if (type === 'function') {\n      continue\n    }\n    \n    // pojo\n    if (type === 'object' && !value.length) {\n      tables.push('')\n      tables.push(processObject(value, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join('\\n'))\n      continue\n    }\n\n    // array\n    if (type === 'object' || type === 'array') {\n      if (typeof value[0] === 'object') {\n        tables.push('')\n        tables.push(processObject(value[0], {\n          parentTableName: name,\n          parentTableId: id,\n          parentTableIdType: idType,\n          tableName: name + '_' + key\n        }).join('\\n'))\n        continue      \n      }\n      \n      tables.push('')\n      tables.push(processObject({ \n        value: typeof value[0]\n      }, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join('\\n'))\n\n      continue\n    }\n\n    output.push(lang.property(key, types[type]))\n  }\n\n  // Handle table keys\n  output.push(lang.primary(id))\n  \n  if (parent) {\n    output.push(lang.foreign(parent + '_id', parent, parentId))\n  }\n\n  output[output.length - 1] = Utils.arrayLastItem(output)\n    .substr(0, Utils.arrayLastItem(output).length - 1)\n\n  output.push(lang.close())\n\n  return output.concat(tables)\n}\n\nmodule.exports = function Process (tableName, object) {\n  if (typeof tableName !== 'string') {\n    object = tableName\n    tableName = 'generic'\n  }\n\n  return processObject(object, {\n    tableName: tableName\n  }).join('\\n')\n}\n","// Modules\nvar Type = require('type-of-is')\n\n// Constants\nvar DRAFT = 'http://json-schema.org/draft-04/schema#'\n\nfunction getPropertyFormat(value) {\n  var type = Type.string(value).toLowerCase()\n\n  if (type === 'date') return 'date-time'\n\n  return null\n}\n\nfunction getPropertyType(value) {\n  var type = Type.string(value).toLowerCase()\n\n  if (type === 'date') return 'string'\n  if (type === 'regexp') return 'string'\n  if (type === 'function') return 'string'\n\n  return type\n}\n\nfunction getUniqueKeys(a, b, c) {\n  a = Object.keys(a)\n  b = Object.keys(b)\n  c = c || []\n\n  var value\n  var cIndex\n  var aIndex\n\n  for (var keyIndex = 0, keyLength = b.length; keyIndex < keyLength; keyIndex++) {\n    value = b[keyIndex]\n    aIndex = a.indexOf(value)\n    cIndex = c.indexOf(value)\n\n    if (aIndex === -1) {\n      if (cIndex !== -1) {\n        // Value is optional, it doesn't exist in A but exists in B(n)\n        c.splice(cIndex, 1)\n      }\n    } else if (cIndex === -1) {\n      // Value is required, it exists in both B and A, and is not yet present in C\n      c.push(value)\n    }\n  }\n\n  return c\n}\n\nfunction processArray(array, output, nested) {\n  var format\n  var oneOf\n  var type\n\n  if (nested && output) {\n    output = { items: output }\n  } else {\n    output = output || {}\n    output.type = getPropertyType(array)\n    output.items = output.items || {}\n    type = output.items.type || null\n  }\n\n  // Determine whether each item is different\n  for (var arrIndex = 0, arrLength = array.length; arrIndex < arrLength; arrIndex++) {\n    var elementType = getPropertyType(array[arrIndex])\n    var elementFormat = getPropertyFormat(array[arrIndex])\n\n    if (type && elementType !== type) {\n      output.items.oneOf = []\n      oneOf = true\n      break\n    } else {\n      type = elementType\n      format = elementFormat\n    }\n  }\n\n  // Setup type otherwise\n  if (!oneOf && type) {\n    output.items.type = type\n    if (format) {\n      output.items.format = format\n    }\n  } else if (oneOf && type !== 'object') {\n    output.items = {\n      oneOf: [{ type: type }],\n      required: output.items.required\n    }\n  }\n\n  // Process each item depending\n  if (typeof output.items.oneOf !== 'undefined' || type === 'object') {\n    for (var itemIndex = 0, itemLength = array.length; itemIndex < itemLength; itemIndex++) {\n      var value = array[itemIndex]\n      var itemType = getPropertyType(value)\n      var itemFormat = getPropertyFormat(value)\n      var arrayItem\n      if (itemType === 'object') {\n        if (output.items.properties) {\n          output.items.required = getUniqueKeys(output.items.properties, value, output.items.required)\n        }\n        arrayItem = processObject(value, oneOf ? {} : output.items.properties, true)\n      } else if (itemType === 'array') {\n        arrayItem = processArray(value, oneOf ? {} : output.items.properties, true)\n      } else {\n        arrayItem = {}\n        arrayItem.type = itemType\n        if (itemFormat) {\n          arrayItem.format = itemFormat\n        }\n      }\n      if (oneOf) {\n        var childType = Type.string(value).toLowerCase()\n        var tempObj = {}\n        if (!arrayItem.type && childType === 'object') {\n          tempObj.properties = arrayItem\n          tempObj.type = 'object'\n          arrayItem = tempObj\n        }\n        output.items.oneOf.push(arrayItem)\n      } else {\n        if (output.items.type !== 'object') {\n          continue;\n        }\n        output.items.properties = arrayItem\n      }\n    }\n  }\n  return nested ? output.items : output\n}\n\nfunction processObject(object, output, nested) {\n  if (nested && output) {\n    output = { properties: output }\n  } else {\n    output = output || {}\n    output.type = getPropertyType(object)\n    output.properties = output.properties || {}\n  }\n\n  for (var key in object) {\n    var value = object[key]\n    var type = getPropertyType(value)\n    var format = getPropertyFormat(value)\n\n    type = type === 'undefined' ? 'null' : type\n\n    if (type === 'object') {\n      output.properties[key] = processObject(value, output.properties[key])\n      continue\n    }\n\n    if (type === 'array') {\n      output.properties[key] = processArray(value, output.properties[key])\n      continue\n    }\n\n    if (output.properties[key]) {\n      var entry = output.properties[key]\n      var hasTypeArray = Array.isArray(entry.type)\n\n      // When an array already exists, we check the existing\n      // type array to see if it contains our current property\n      // type, if not, we add it to the array and continue\n      if (hasTypeArray && entry.type.indexOf(type) < 0) {\n        entry.type.push(type)\n      }\n\n      // When multiple fields of differing types occur,\n      // json schema states that the field must specify the\n      // primitive types the field allows in array format.\n      if (!hasTypeArray && entry.type !== type) {\n        entry.type = [entry.type, type]\n      }\n\n      continue\n    }\n\n    output.properties[key] = {}\n    output.properties[key].type = type\n\n    if (format) {\n      output.properties[key].format = format\n    }\n  }\n\n  return nested ? output.properties : output\n}\n\nmodule.exports = function Process (title, object) {\n  var processOutput\n  var output = {\n    $schema: DRAFT\n  }\n\n  // Determine title exists\n  if (typeof title !== 'string') {\n    object = title\n    title = undefined\n  } else {\n    output.title = title\n  }\n\n  // Set initial object type\n  output.type = Type.string(object).toLowerCase()\n\n  // Process object\n  if (output.type === 'object') {\n    processOutput = processObject(object)\n    output.type = processOutput.type\n    output.properties = processOutput.properties\n  }\n\n  if (output.type === 'array') {\n    processOutput = processArray(object)\n    output.type = processOutput.type\n    output.items = processOutput.items\n\n    if (output.title) {\n      output.items.title = output.title\n      output.title += ' Set'\n    }\n  }\n\n  // Output\n  return output\n}\n","// Modules\nvar Type = require('type-of-is')\nvar Utils = require('../utils')\n\n// Type Mapping for Clickhouse\nvar types = {\n  boolean: 'String',\n  string: 'String',\n  number: 'Int32',\n  date: 'Date',\n  timestamp: 'DateTime',\n  object: 'Nested',\n  'regexp': 'String',\n  'undefined': 'String',\n  'null': 'String'\n}\n\nvar lang = {\n  create: function (name) {\n    return ['CREATE TABLE ', name, ' ('].join('')\n  },\n\n  close: function (id, dateField) {\n    if (!dateField) return [') ENGINE = Memory;'].join('')\n    else return [') ENGINE = MergeTree(', dateField, ', (', id, ', ', dateField, '), 8192);'].join('')\n  },\n\n  id: function (name, value) {\n    return ['  ', name, '_id ', value, ','].join('')\n  },\n\n  property: function (name, value) {\n    return ['  ', name, ' ', value, ','].join('')\n  },\n\n}\n\nfunction processObject (obj, options, dateField) {\n  var name = options.tableName\n  var parent = options.parentTableName\n  var parentId = options.parentTableId\n  var parentIdType = options.parentTableIdType\n\n  // In-memory storage\n  var keys = Object.keys(obj)\n  var output = []\n  var tables = []\n\n  // Table variables\n  var id = null\n  var idType = 'string'\n\n  // Initialize Table\n  output.push(lang.create(name))\n\n  if (parent) {\n    output.push(lang.property(parent + '_' + parentId, types[parentIdType]))\n  }\n\n  // Obtain ID\n  var nkey\n  for (var i = 0; i < keys.length; i++) {\n    if (keys[i].toLowerCase() === 'id' || keys[i].toLowerCase().indexOf('_id') > -1) {\n      nkey = keys[i]\n      obj[nkey] = obj[keys[i]]\n      keys[i] = nkey\n      id = keys[i]\n      idType = typeof obj[keys[i]]\n    }\n  }\n\n  if (!id) {\n    id = 'id'\n    idType = parentIdType || idType\n    output.push(lang.property(id, types[idType]))\n  }\n\n  // Create table properties\n  var key, value, type\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i]\n    value = obj[key]\n    type = value instanceof Date\n      ? 'date'\n      : Type.string(value).toLowerCase()\n\n    if (type == 'date' && !dateField) {\n\tvar dateField = key;\n    }\n\n    if (type !== 'undefined') {\n      type = Utils.isTimestamp(value) ? 'timestamp' : type\n    }\n\n    if (type === 'function') {\n      continue\n    }\n\n    // pojo\n    if (type === 'object' && !value.length) {\n      tables.push('')\n      tables.push(processObject(value, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join(''))\n      continue\n    }\n\n    // array\n    if (type === 'object' || type === 'array') {\n      if (typeof value[0] === 'object') {\n        tables.push('')\n        tables.push(processObject(value[0], {\n          parentTableName: name,\n          parentTableId: id,\n          parentTableIdType: idType,\n          tableName: name + '_' + key\n        }).join(''))\n        continue\n      }\n\n      tables.push('')\n      tables.push(processObject({\n        value: typeof value[0]\n      }, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join(''))\n\n      continue\n    }\n\n    output.push(lang.property(key, types[type]))\n  }\n\n  output[output.length - 1] = Utils.arrayLastItem(output)\n    .substr(0, Utils.arrayLastItem(output).length - 1)\n\n  output.push(lang.close(id, dateField))\n\n  return output.concat(tables)\n}\n\nmodule.exports = function Process (tableName, object, dateField) {\n  if (typeof tableName !== 'string') {\n    object = tableName\n    tableName = 'generic'\n  }\n  if (!dateField)\n    dateField = null\n\n  return processObject(object, {\n    tableName: tableName\n  }, dateField).join('')\n}\n","exports.generic = require('./schemas/generic')\nexports.mongoose = require('./schemas/mongoose')\nexports.bigquery = require('./schemas/bigquery')\nexports.mysql = require('./schemas/mysql')\nexports.json = require('./schemas/json')\nexports.clickhouse = require('./schemas/clickhouse')\n","import json5 from \"json5\";\r\nimport { defineComponent, markRaw } from \"vue\";\r\nimport { State_App } from \"../../state/State_App\";\r\nimport \"./JsonSchemaMonaco.less\";\r\nimport { UI, xU, $, compositionAPI } from \"@ventose/ui\";\r\nimport { ICON_STRATEGE, SchemaEditor, SPE } from \"./SchemaEditor\";\r\nimport { diff } from \"jsondiffpatch\";\r\nimport { API } from \"../../api/index\";\r\nimport generateSchema from \"generate-schema\";\r\nconst { usefnObserveDomResize } = compositionAPI;\r\n\r\nfunction makeProps(pre, prop) {\r\n\treturn [pre, prop].join(SPE);\r\n}\r\n\r\nfunction transJsonTree(item, prop, key) {\r\n\tif (prop === 0) {\r\n\t\treturn {\r\n\t\t\t...item,\r\n\t\t\t/* antdv tree 需要的属性 */\r\n\t\t\tkey,\r\n\t\t\ttitle: \"root\",\r\n\t\t\tchildren: xU.map(item.properties, (item, prop) =>\r\n\t\t\t\ttransJsonTree(item, prop, makeProps(key, prop))\r\n\t\t\t)\r\n\t\t};\r\n\t} else {\r\n\t\treturn {\r\n\t\t\t...item,\r\n\t\t\t/* antdv tree 需要的属性 */\r\n\t\t\tkey,\r\n\t\t\ttitle: prop,\r\n\t\t\tchildren: xU.map(item.properties, (item, prop) =>\r\n\t\t\t\ttransJsonTree(item, prop, makeProps(key, prop))\r\n\t\t\t)\r\n\t\t};\r\n\t}\r\n}\r\n\r\nconst PopoverContent = defineComponent(\r\n\tmarkRaw({\r\n\t\ttemplate: `<ul>\r\n\t\t<li>1. Tree  <xIcon icon=\"arrow_right\"/> Lowcode  <xIcon icon=\"arrow_right\"/> JSON </li>\r\n\t\t<li>2. <aTag color=\"green\"><xIcon icon=\"arrow_right\"/> </aTag>{{$t(\"左侧的编辑会直接作用于右侧\").label}}</li>\r\n\t\t<li>3. <aTag color=\"red\"><xIcon icon=\"arrow_left\"/> </aTag>{{$t(\"右侧的编辑需要手工同步到左侧\").label}}，{{$t(\"依次点击\").label}}<aButton type=\"primary\">{{$t(\"同步到左侧\").label}}</aButton></li>\r\n\t\t<li>4. {{$t(\"编辑中会有冗余信息，同步到左侧的JSON Tree 之后会Tree Shaking\").label}} </li>\r\n\t\t<li>5. {{$t(\"点击\").label}} <aTag color=\"green\">root</aTag>{{$t(\"查看全部JSON内容,并且可以全量修改\").label}}</li>\r\n\t\t<li>6. {{$t(\"普通JSON对象可以转为schema格式\").label}} <aButton type=\"primary\">{{$t(\"JSON 转 schema\").label}}</aButton></li>\r\n\t  </ul>`\r\n\t})\r\n);\r\n\r\nexport const JsonSchemaMonaco = defineComponent({\r\n\tprops: [\"schemaString\", \"readOnly\"],\r\n\temits: [\"update:schemaString\"],\r\n\tsetup() {\r\n\t\tconst { fnObserveDomResize, fnUnobserveDomResize } =\r\n\t\t\tusefnObserveDomResize();\r\n\t\treturn {\r\n\t\t\tState_App,\r\n\t\t\tfnObserveDomResize,\r\n\t\t\tfnUnobserveDomResize\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tsyncLabel() {\r\n\t\t\tif (this.currentNode) {\r\n\t\t\t\treturn this.$t(\"同步到编辑器\").label;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.$t(\"同步到 JSON 树\").label;\r\n\t\t\t}\r\n\t\t},\r\n\t\tisShowSchemaEditor() {\r\n\t\t\tif (this.currentNode) {\r\n\t\t\t\tif (this.onlyOneEditor) {\r\n\t\t\t\t\treturn this.currentEditor === \"SchemaEditor\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tisShowMonacoEditor() {\r\n\t\t\tif (!this.currentNode) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.onlyOneEditor) {\r\n\t\t\t\treturn this.currentEditor === \"MonacoEditor\";\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tcurrentNode: {\r\n\t\t\tdeep: true,\r\n\t\t\tasync handler() {\r\n\t\t\t\tawait xU.ensureValueDone(() => this.setSchemaStringDebounce);\r\n\t\t\t\tthis.setSchemaStringDebounce();\r\n\t\t\t}\r\n\t\t},\r\n\t\tschemaString: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(schemaString) {\r\n\t\t\t\tthis.updateSchemaJsonBy(schemaString);\r\n\t\t\t}\r\n\t\t},\r\n\t\tschemaJson: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler() {\r\n\t\t\t\tthis.updateTree();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.init();\r\n\t\tthis.fnObserveDomResize(this.$refs.JsonSchemaMonaco, () => {\r\n\t\t\tconst width = $(this.$refs.JsonSchemaMonaco).width();\r\n\t\t\tconst onlyOneEditor = width < 800;\r\n\t\t\tif (onlyOneEditor !== this.onlyOneEditor) {\r\n\t\t\t\tthis.onlyOneEditor = onlyOneEditor;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.fnUnobserveDomResize(this.$refs.JsonSchemaMonaco);\r\n\t},\r\n\tmethods: {\r\n\t\trenderReadOnly(vm) {\r\n\t\t\treturn (\r\n\t\t\t\t<div class=\"JsonSchemaMonaco flex x-card\" ref=\"JsonSchemaMonaco\">\r\n\t\t\t\t\t<div class=\"left-json-tree_readonly\" style=\"width:100%\">\r\n\t\t\t\t\t\t{/* 在有数据之后才能展开全部 */}\r\n\t\t\t\t\t\t{this.isTreeLoading ? (\r\n\t\t\t\t\t\t\t<aSpin spinning={true} class=\"flex middle height100 width100\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div class=\"flex middle height100 vertical\">\r\n\t\t\t\t\t\t\t\t<aTree\r\n\t\t\t\t\t\t\t\t\tclass=\"JsonSchemaMonaco-json-tree flex1 overflow-auto width100\"\r\n\t\t\t\t\t\t\t\t\tshow-line\r\n\t\t\t\t\t\t\t\t\tdefaultExpandAll\r\n\t\t\t\t\t\t\t\t\ttreeData={vm.jsonTree}>\r\n\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\ttitle({ dataRef }) {\r\n\t\t\t\t\t\t\t\t\t\t\tconst { title, type, key, description } = dataRef;\r\n\t\t\t\t\t\t\t\t\t\t\tconst vDomIcon =\r\n\t\t\t\t\t\t\t\t\t\t\t\tICON_STRATEGE[type] && ICON_STRATEGE[type]();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tlet labelType = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mr10 cell-width\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{vDomIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"mr10\">{type}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\tlet labelDescription = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mr10 cell-width\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"mr10\">{description}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (title == \"root\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelType = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mr10 cell-width\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{vm.$t(\"类型\").label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelDescription = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mr10 cell-width\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{vm.$t(\"备注\").label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex middle  title-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"title ellipsis pointer flex1 flex middle \"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-uiPopover={{ onlyEllipsis: true }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => vm.handleTreeClick(dataRef)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{title}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<xGap f=\"1\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{labelType}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{labelDescription}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<xGap r=\"10\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t</aTree>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\ttoggleEditor() {\r\n\t\t\tif (this.currentEditor === \"SchemaEditor\") {\r\n\t\t\t\tthis.currentEditor = \"MonacoEditor\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentEditor = \"SchemaEditor\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetSchemaString() {\r\n\t\t\tlet jsonSchemaString = JSON.stringify(this.schemaJson, null, 2);\r\n\t\t\tif (this.currentNode) {\r\n\t\t\t\tjsonSchemaString = JSON.stringify(this.currentNode, null, 2);\r\n\t\t\t}\r\n\t\t\tif (this.jsonSchemaString !== jsonSchemaString) {\r\n\t\t\t\tthis.jsonSchemaString = jsonSchemaString;\r\n\t\t\t}\r\n\t\t},\r\n\t\tinit() {\r\n\t\t\tconst vm = this;\r\n\t\t\tvm.raw$Node4Diff = {};\r\n\t\t\tvm.setSchemaStringDebounce = xU.debounce(function () {\r\n\t\t\t\t/* 因为currentNode变动，更新Monaco的字符串，不可以在内部修改currentNode触发循环更新 */\r\n\t\t\t\tconst node = xU.cloneDeep(vm.currentNode);\r\n\t\t\t\tif (node) {\r\n\t\t\t\t\tconst isDifferent = diff(vm.raw$Node4Diff, node);\r\n\t\t\t\t\tif (isDifferent) {\r\n\t\t\t\t\t\tvm.raw$Node4Diff = node;\r\n\t\t\t\t\t\tvm.setSchemaString(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvm.setSchemaString();\r\n\t\t\t\t}\r\n\t\t\t}, 600);\r\n\t\t\tvm.setSchemaStringDebounce();\r\n\r\n\t\t\tvm.updateTreeDebounce = xU.debounce(function () {\r\n\t\t\t\tvm.jsonTree = xU.map([vm.schemaJson], (item, prop) => {\r\n\t\t\t\t\treturn transJsonTree(item, prop, \"\");\r\n\t\t\t\t});\r\n\t\t\t\tvm.isTreeLoading = false;\r\n\t\t\t}, 32);\r\n\t\t},\r\n\t\tupdateSchemaJsonBy(schemaString) {\r\n\t\t\tlet schemaJson = this.schemaJson;\r\n\t\t\ttry {\r\n\t\t\t\tschemaJson = JSON.parse(schemaString);\r\n\t\t\t\tthis.$emit(\"update:schemaString\", schemaString);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t\tUI.message.error(this.$t(\"数据有误\").label);\r\n\t\t\t} finally {\r\n\t\t\t\tthis.schemaJson = schemaJson;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync updateTree() {\r\n\t\t\txU(\"updateTree\");\r\n\t\t\tthis.isTreeLoading = true;\r\n\t\t\tawait xU.ensureValueDone(() => this.updateTreeDebounce);\r\n\t\t\tthis.updateTreeDebounce();\r\n\t\t},\r\n\t\thandleTreeClick(item) {\r\n\t\t\tthis.isMockPreview = false;\r\n\t\t\tif (item && item.title !== \"root\") {\r\n\t\t\t\tthis.setCurrentNode(item);\r\n\t\t\t} else {\r\n\t\t\t\tthis.setCurrentNode(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleNodeSync(oldKey, node) {\r\n\t\t\tif (!node.key || !oldKey) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\txU.MutatingProps(this.schemaJson, oldKey, \"never\", true);\r\n\t\t\txU.MutatingProps(this.schemaJson, node.key, node);\r\n\t\t\tthis.$emit(\"update:schemaString\", JSON.stringify(this.schemaJson));\r\n\t\t\tthis.updateTree();\r\n\t\t\tthis.handleTreeClick(node);\r\n\t\t},\r\n\t\taddProp(item) {\r\n\t\t\tthis.handleTreeClick({\r\n\t\t\t\tkey: [item.key, \"\"].join(SPE),\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\ttype: \"object\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tdeleteProp(item) {\r\n\t\t\txU.MutatingProps(this.schemaJson, item.key, \"never\", true);\r\n\t\t\tthis.handleTreeClick();\r\n\t\t},\r\n\t\tsyncMonacoString() {\r\n\t\t\t/* 是单个节点 */\r\n\t\t\tif (this.currentNode) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst node = JSON.parse(this.jsonSchemaString);\r\n\t\t\t\t\t/* TODO: 校验node是否合法*/\r\n\t\t\t\t\tthis.setCurrentNode(node);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tUI.message.error(this.$t(\"同步失败\").label);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t/* 全量 */\r\n\t\t\t\tthis.updateSchemaJsonBy(this.jsonSchemaString);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetCurrentNode(node) {\r\n\t\t\tif (node) {\r\n\t\t\t\tconst currentNode = xU.cloneDeep(node);\r\n\t\t\t\tdelete currentNode.children;\r\n\t\t\t\tthis.currentNode = currentNode;\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentNode = false;\r\n\t\t\t}\r\n\t\t\tthis.setSchemaStringDebounce();\r\n\t\t},\r\n\t\tmonacoJsonToSchema() {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = generateSchema.json(json5.parse(this.jsonSchemaString));\r\n\t\t\t\tthis.jsonSchemaString = JSON.stringify(res, null, 2);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tUI.message.error(this.$t(\"JSON 转 schema 解析出错\").label);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync previewMock() {\r\n\t\t\ttry {\r\n\t\t\t\tlet schema = JSON.parse(this.jsonSchemaString);\r\n\t\t\t\t/* TODO: 没啥作用*/\r\n\t\t\t\tconst { data } = await API.project.interfaceSchema2json({\r\n\t\t\t\t\tschema: schema.properties\r\n\t\t\t\t});\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tthis.jsonSchemaString = JSON.stringify(data, null, 2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error();\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tUI.message.error(this.$t(\"预览 Mock 结果出错\").label);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tprovide() {\r\n\t\tconst vm = this;\r\n\t\treturn {\r\n\t\t\tjsmVM: vm\r\n\t\t};\r\n\t},\r\n\tdata(vm) {\r\n\t\treturn {\r\n\t\t\tcurrentEditor: \"MonacoEditor\",\r\n\t\t\tonlyOneEditor: false,\r\n\t\t\tisMockPreview: false,\r\n\t\t\tcurrentNode: false,\r\n\t\t\thelpTips: {\r\n\t\t\t\tcontent: PopoverContent,\r\n\t\t\t\twidth: \"500px\"\r\n\t\t\t},\r\n\t\t\tisShowRaw: false,\r\n\t\t\tschemaJson: {},\r\n\t\t\tjsonSchemaString: \"\",\r\n\t\t\texpandedKeys: [],\r\n\t\t\tselectedKeys: [],\r\n\t\t\tjsonTree: [],\r\n\t\t\tisTreeLoading: false,\r\n\t\t\tconfigsPreviewMock: {\r\n\t\t\t\titemType: \"Checkbox\",\r\n\t\t\t\tslots: {\r\n\t\t\t\t\tdefault() {\r\n\t\t\t\t\t\treturn vm.$t(\"Mock预览\").label;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\trender(vm) {\r\n\t\tif (this.readOnly) {\r\n\t\t\treturn this.renderReadOnly(vm);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div class=\"JsonSchemaMonaco flex x-card\" ref=\"JsonSchemaMonaco\">\r\n\t\t\t\t<div class=\"left-json-tree\">\r\n\t\t\t\t\t{this.isTreeLoading ? (\r\n\t\t\t\t\t\t<aSpin spinning={true} class=\"flex middle height100 width100\" />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div class=\"flex middle height100 vertical\">\r\n\t\t\t\t\t\t\t<div class=\"padding10 flex middle width100\">\r\n\t\t\t\t\t\t\t\t{/* 宽度不够时，只显示一个 */}\r\n\t\t\t\t\t\t\t\t{this.onlyOneEditor ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<aButton\r\n\t\t\t\t\t\t\t\t\t\t\ttype={\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.currentEditor === \"SchemaEditor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={vm.toggleEditor}>\r\n\t\t\t\t\t\t\t\t\t\t\t<xIcon icon=\"column2\" />\r\n\t\t\t\t\t\t\t\t\t\t</aButton>\r\n\t\t\t\t\t\t\t\t\t\t<aButton\r\n\t\t\t\t\t\t\t\t\t\t\ttype={\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.currentEditor === \"MonacoEditor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={vm.toggleEditor}>\r\n\t\t\t\t\t\t\t\t\t\t\t<xIcon icon=\"column3\" />\r\n\t\t\t\t\t\t\t\t\t\t</aButton>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<xGap f=\"1\" />\r\n\t\t\t\t\t\t\t\t<span v-uiPopover={vm.helpTips} class=\"flex middle pointer\">\r\n\t\t\t\t\t\t\t\t\t<xIcon icon=\"question\" />\r\n\t\t\t\t\t\t\t\t\t<span className=\"ml10\">{vm.$t(\"说明\").label}</span>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<aTree\r\n\t\t\t\t\t\t\t\tclass=\"JsonSchemaMonaco-json-tree flex1 overflow-auto width100\"\r\n\t\t\t\t\t\t\t\tshow-line\r\n\t\t\t\t\t\t\t\tdefaultExpandAll\r\n\t\t\t\t\t\t\t\ttreeData={vm.jsonTree}>\r\n\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\ttitle({ dataRef }) {\r\n\t\t\t\t\t\t\t\t\t\tconst { title, type, key } = dataRef;\r\n\t\t\t\t\t\t\t\t\t\tconst isShowAdd = !type || type === \"object\";\r\n\t\t\t\t\t\t\t\t\t\tconst isShowDelete = !!key;\r\n\t\t\t\t\t\t\t\t\t\tconst vDomIcon =\r\n\t\t\t\t\t\t\t\t\t\t\tICON_STRATEGE[type] && ICON_STRATEGE[type]();\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex middle  title-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"title ellipsis pointer flex1 flex middle \"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-uiPopover={{ onlyEllipsis: true }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => vm.handleTreeClick(dataRef)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"mr10\">{vDomIcon}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{title}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<xGap f=\"1\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{isShowAdd ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<xIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"add\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => vm.addProp(dataRef)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{isShowDelete ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<xIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => vm.deleteProp(dataRef)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<xGap r=\"10\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t</aTree>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.isShowSchemaEditor ? (\r\n\t\t\t\t\t<SchemaEditor onNodeSync={this.handleNodeSync} />\r\n\t\t\t\t) : null}\r\n\t\t\t\t{this.isShowMonacoEditor ? (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"JsonSchemaMonaco-monaco-panel flex1 flex vertical\"\r\n\t\t\t\t\t\tstyle={{ width: \"1px\" }}>\r\n\t\t\t\t\t\t<div class=\"JsonSchemaMonaco-monaco-panel_button flex middle\">\r\n\t\t\t\t\t\t\t<aButton\r\n\t\t\t\t\t\t\t\tonClick={this.syncMonacoString}\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tdisabled={this.isMockPreview}>\r\n\t\t\t\t\t\t\t\t{this.syncLabel}\r\n\t\t\t\t\t\t\t</aButton>\r\n\t\t\t\t\t\t\t<xGap l=\"10\" />\r\n\t\t\t\t\t\t\t{!this.currentNode && (\r\n\t\t\t\t\t\t\t\t<aButton\r\n\t\t\t\t\t\t\t\t\tonClick={this.monacoJsonToSchema}\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={this.isMockPreview}>\r\n\t\t\t\t\t\t\t\t\t{this.$t(\"JSON 转 schema\").label}\r\n\t\t\t\t\t\t\t\t</aButton>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<xGap l=\"10\" />\r\n\t\t\t\t\t\t\t{!this.currentNode && (\r\n\t\t\t\t\t\t\t\t<xItem\r\n\t\t\t\t\t\t\t\t\tconfigs={vm.configsPreviewMock}\r\n\t\t\t\t\t\t\t\t\tmodelValue={this.isMockPreview}\r\n\t\t\t\t\t\t\t\t\tonUpdate:modelValue={val => {\r\n\t\t\t\t\t\t\t\t\t\tif (vm.isMockPreview === val) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvm.isMockPreview = val;\r\n\t\t\t\t\t\t\t\t\t\tif (val) {\r\n\t\t\t\t\t\t\t\t\t\t\tvm.previewMock();\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tvm.setSchemaStringDebounce();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<MonacoEditor\r\n\t\t\t\t\t\t\tclass=\"flex1\"\r\n\t\t\t\t\t\t\tv-model:code={this.jsonSchemaString}\r\n\t\t\t\t\t\t\tlanguage=\"json\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport { State_App } from \"../../state/State_App\";\r\nimport { JsonSchemaMonaco } from \"../JsonSchemaEditor/JsonSchemaMonaco\";\r\n\r\nexport const BodyParamsJson = defineComponent({\r\n\tprops: [\"reqBodyOther\", \"reqBodyIsJsonSchema\"],\r\n\temits: [\"update:reqBodyOther\"],\r\n\tsetup() {\r\n\t\treturn {\r\n\t\t\tState_App\r\n\t\t};\r\n\t},\r\n\twatch: {},\r\n\tcomputed: {\r\n\t\tschemaString: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.reqBodyOther;\r\n\t\t\t},\r\n\t\t\tset(val) {\r\n\t\t\t\tthis.$emit(\"update:reqBodyOther\", val);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {},\r\n\tdata(vm) {\r\n\t\treturn {\r\n\t\t\tisReqBodyUseSchema: false,\r\n\t\t\tjsonData: {}\r\n\t\t};\r\n\t},\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style=\"height:300px\" class=\"flex vertical\">\r\n\t\t\t\t{/* {JSON.stringify(this.schemaString)} */}\r\n\t\t\t\t<JsonSchemaMonaco v-model:schemaString={this.schemaString} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n","import {\n\tcompileVNode,\n\tdefCol,\n\tdefItem,\n\tdefXVirTableConfigs,\n\txU\n} from \"@ventose/ui\";\nimport { State_Project } from \"src/containers/Project/Interface/State_Project\";\nimport { Cpt_url } from \"src/router/router\";\nimport { ITEM_OPTIONS, ITEM_OPTIONS_VDOM } from \"src/utils/common.options\";\nimport { defineComponent } from \"vue\";\nimport { MonacoEditor } from \"../MonacoEditor/MonacoEditor\";\n\nfunction newFormData() {\n\treturn {\n\t\t_id: xU.genId(\"body_params\"),\n\t\tname: \"\",\n\t\ttype: \"text\",\n\t\trequired: \"1\",\n\t\tdesc: \"\",\n\t\texample: \"\"\n\t};\n}\n\nconst STRATEGY_CELL_ITEM_CONFIGS = {\n\tname: {},\n\ttype: {\n\t\titemType: \"Select\",\n\t\toptions: ITEM_OPTIONS.interfaceBodyFormType\n\t},\n\trequired: {\n\t\titemType: \"Select\",\n\t\toptions: ITEM_OPTIONS.required\n\t},\n\texample: {},\n\tdesc: {}\n};\nconst BODY_PARAM_PROP_ARRAY = Object.keys(STRATEGY_CELL_ITEM_CONFIGS);\n\n/* virTable 的 renderCell 缓存标识 ,关键是唯一，具体是啥无所谓，所以这里不用过分考虑顺序*/\nconst [ID_NAME, ID_TYPE, ID_REQUIRED, ID_RECORD, ID_DESC, ID_OPERATIONS] = [\n\t...BODY_PARAM_PROP_ARRAY,\n\t\"ID_OPERATIONS\"\n].map(xU.genId);\n\nexport const BodyParamsRaw = defineComponent({\n\tprops: [\"reqBodyOther\"],\n\twatch: {\n\t\treqBodyOther: {\n\t\t\timmediate: true,\n\t\t\thandler(bodyText) {\n\t\t\t\tthis.resetDataForm(bodyText);\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tresetDataForm(bodyText) {\n\t\t\tthis.bodyText = bodyText;\n\t\t}\n\t},\n\tdata(vm) {\n\t\treturn {\n\t\t\tbodyText: \"\"\n\t\t};\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div style={{ height: \"300px\" }}>\n\t\t\t\t\t<MonacoEditor v-model:code={this.bodyText} language=\"json\" />\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n});\n","import { defineComponent } from \"vue\";\nimport {\n\txU,\n\tdefItem,\n\tState_UI,\n\tFormRules,\n\tvalidateForm,\n\tAllWasWell,\n\tpickValueFrom\n} from \"@ventose/ui\";\nimport { MonacoEditor } from \"../MonacoEditor/MonacoEditor\";\n\nconst { $t } = State_UI;\n\nexport const DialogBulkValues = defineComponent({\n\tprops: {\n\t\t/* Dialog 默认传入参数 */\n\t\tpropDialogOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn { __elId: false };\n\t\t\t}\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tformItems: {\n\t\t\t\t...defItem({\n\t\t\t\t\tisTextarea: true,\n\t\t\t\t\tprop: \"bulkValue\",\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\tplaceholder: \"key:value\\nkey:value\\nkey:value\",\n\t\t\t\t\trules: [FormRules.required()],\n\t\t\t\t\tstyle: \"width:500px\"\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\t},\n\twatch: {\n\t\t\"propDialogOptions.formValues\": {\n\t\t\timmediate: true,\n\t\t\thandler() {}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.formItems.bulkValue.value = xU\n\t\t\t.map(this.propDialogOptions.formValues, item => {\n\t\t\t\treturn `${item.key || \"\"}:${item.value || \"\"}`;\n\t\t\t})\n\t\t\t.join(\"\\n\");\n\t},\n\tcomputed: {\n\t\tstyleBody() {\n\t\t\treturn \"min-height:500px:width:500px\";\n\t\t},\n\t\tonOk() {\n\t\t\tif (!xU.isFunction(this.propDialogOptions?.onOk)) {\n\t\t\t\talert(\"miss onOk function\");\n\t\t\t\treturn xU.doNothing;\n\t\t\t}\n\t\t\treturn this.propDialogOptions?.onOk;\n\t\t},\n\t\tconfigsFooter() {\n\t\t\treturn {\n\t\t\t\tonCancel: this.propDialogOptions.closeDialog,\n\t\t\t\tonOk: async () => {\n\t\t\t\t\tconst validateResults = await validateForm(this.formItems);\n\t\t\t\t\tif (AllWasWell(validateResults)) {\n\t\t\t\t\t\t/* @ts-ignore */\n\t\t\t\t\t\tconst { bulkValue } = pickValueFrom(this.formItems);\n\t\t\t\t\t\tconst bulkValueArray = bulkValue.split(\"\\n\");\n\t\t\t\t\t\tconst formArray = xU.map(bulkValueArray, str => str.split(\":\"));\n\t\t\t\t\t\tthis.onOk(formArray);\n\t\t\t\t\t\tthis.propDialogOptions.closeDialog();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tvDomFormItems() {\n\t\t\treturn xU.map(this.formItems, (item, prop) => {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<xItem configs={item} />\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class=\"flex flex1 vertical padding10\">\n\t\t\t\t\t<aAlert\n\t\t\t\t\t\tmessage={`型如key:value一行一个 换行即可，不要使用逗号、分号分隔`}\n\t\t\t\t\t/>\n\t\t\t\t\t<div style=\"height:340px;width:500px\">\n\t\t\t\t\t\t<MonacoEditor\n\t\t\t\t\t\t\tv-model:code={this.formItems.bulkValue.value}\n\t\t\t\t\t\t\tlanguage=\"text\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<xDialogFooter configs={this.configsFooter} />\n\t\t\t</>\n\t\t);\n\t}\n});\n","import { defItem, UI, xU } from \"@ventose/ui\";\r\nimport { ITEM_OPTIONS } from \"src/utils/common.options\";\r\nimport { defineComponent } from \"vue\";\r\nimport { BodyParamsForm } from \"./BodyParamsForm\";\r\nimport { BodyParamsJson } from \"./BodyParamsJson\";\r\nimport { BodyParamsRaw } from \"./BodyParamsRaw\";\r\nimport { DialogBulkValues } from \"./DialogBulkValues\";\r\n\r\nexport const BodyParamsPanel = defineComponent({\r\n\t/* req_body_type */\r\n\tprops: [\"params\"],\r\n\tdata(vm) {\r\n\t\treturn {\r\n\t\t\tconfigsBodyType: defItem.item({\r\n\t\t\t\tprop: \"configsBodyType\",\r\n\t\t\t\titemType: \"RadioGroup\",\r\n\t\t\t\toptions: ITEM_OPTIONS.interfaceBodyType\r\n\t\t\t})\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\topenBulkValuesDialog() {\r\n\t\t\tUI.dialog.component({\r\n\t\t\t\ttitle: this.$t(\"批量添加参数\").label,\r\n\t\t\t\tcomponent: DialogBulkValues,\r\n\t\t\t\tformValues: this.params.req_body_form,\r\n\t\t\t\tonOk: req_body_form => {\r\n\t\t\t\t\tthis.params.req_body_form = req_body_form;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tbodyType: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.params.req_body_type;\r\n\t\t\t},\r\n\t\t\tset(type) {\r\n\t\t\t\tthis.params.req_body_type = type;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<aCard>\r\n\t\t\t\t{{\r\n\t\t\t\t\textra: () => {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\txU.find(ITEM_OPTIONS.interfaceBodyType, {\r\n\t\t\t\t\t\t\t\tvalue: this.params.req_body_type\r\n\t\t\t\t\t\t\t})?.isForm\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn <a onClick={this.openBulkValuesDialog}>批量添加</a>;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttitle: () => {\r\n\t\t\t\t\t\t/* 类型选择 */\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<xItem\r\n\t\t\t\t\t\t\t\t\tv-model={this.params.req_body_type}\r\n\t\t\t\t\t\t\t\t\tconfigs={this.configsBodyType}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdefault: () => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{/* {JSON.stringify(this.params.req_body_other)} */}\r\n\t\t\t\t\t\t\t\t{this.params.req_body_type == \"form\" ? (\r\n\t\t\t\t\t\t\t\t\t<BodyParamsForm reqBodyForm={this.params.req_body_form} />\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{this.params.req_body_type == \"json\" ? (\r\n\t\t\t\t\t\t\t\t\t<BodyParamsJson\r\n\t\t\t\t\t\t\t\t\t\treqBodyIsJsonSchema={this.params.req_body_is_json_schema}\r\n\t\t\t\t\t\t\t\t\t\tv-model:reqBodyOther={this.params.req_body_other}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{this.params.req_body_type == \"file\" ? \"开发中......\" : null}\r\n\t\t\t\t\t\t\t\t{this.params.req_body_type == \"raw\" ? (\r\n\t\t\t\t\t\t\t\t\t<BodyParamsRaw\r\n\t\t\t\t\t\t\t\t\t\tv-model:reqBodyOther={this.params.req_body_other}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t</aCard>\r\n\t\t);\r\n\t}\r\n});\r\n","import {\n\tcompileVNode,\n\tdefCol,\n\tdefItem,\n\tdefXVirTableConfigs,\n\tUI,\n\txU\n} from \"@ventose/ui\";\nimport { State_Project } from \"src/containers/Project/Interface/State_Project\";\nimport { Cpt_url } from \"src/router/router\";\nimport { ITEM_OPTIONS, ITEM_OPTIONS_VDOM } from \"src/utils/common.options\";\nimport { defineComponent, markRaw, reactive } from \"vue\";\nimport { DialogBulkValues } from \"./DialogBulkValues\";\nimport { HTTP_REQUEST_HEADER } from \"../../utils/variable\";\n\nfunction newFormData([name, value] = [\"\", \"\"]) {\n\treturn {\n\t\t_id: xU.genId(\"req_header_item\"),\n\t\tname,\n\t\tvalue,\n\t\texample: \"\",\n\t\trequired: \"1\",\n\t\tdesc: \"\"\n\t};\n}\n\nconst STRATEGY_CELL_ITEM_CONFIGS = {\n\tname: {},\n\tvalue: {},\n\texample: {},\n\tdesc: {}\n};\nconst BODY_PARAM_PROP_ARRAY = Object.keys(STRATEGY_CELL_ITEM_CONFIGS);\n\n/* virTable 的 renderCell 缓存标识 ,关键是唯一，具体是啥无所谓，所以这里不用过分考虑顺序*/\nconst [ID_NAME, ID_TYPE, ID_REQUIRED, ID_RECORD, ID_DESC, ID_OPERATIONS] = [\n\t...BODY_PARAM_PROP_ARRAY,\n\t\"ID_OPERATIONS\"\n].map(xU.genId);\n\nexport const HeaderParamsForm = defineComponent({\n\tprops: [\"reqHeaders\"],\n\twatch: {\n\t\treqHeaders: {\n\t\t\timmediate: true,\n\t\t\thandler(formDataArray) {\n\t\t\t\tthis.resetDataForm(formDataArray);\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\topenBulkValuesDialog() {\n\t\t\tUI.dialog.component({\n\t\t\t\ttitle: this.$t(\"批量添加参数\").label,\n\t\t\t\tcomponent: DialogBulkValues,\n\t\t\t\tformValues: xU.map(this.configs_table.dataSource, i => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: i.name,\n\t\t\t\t\t\tvalue: i.value\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonOk: (formDataArray: any) => {\n\t\t\t\t\tthis.configs_table.dataSource = xU.map(formDataArray, newFormData);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\taddRow() {\n\t\t\tthis.configs_table.dataSource.unshift(newFormData());\n\t\t},\n\t\tdeleteRow(_id) {\n\t\t\tconst index = xU.findIndex(this.configs_table.dataSource, { _id });\n\t\t\tif (~index) {\n\t\t\t\tthis.configs_table.dataSource.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\tresetDataForm(newFormDataArray) {\n\t\t\tthis.configs_table.dataSource = newFormDataArray;\n\t\t}\n\t},\n\tdata(vm) {\n\t\treturn {\n\t\t\tconfigs_table: defXVirTableConfigs({\n\t\t\t\trowHeight: 36,\n\t\t\t\tdataSource: [],\n\t\t\t\tcustomClass: tableId =>\n\t\t\t\t\t[\n\t\t\t\t\t\t`#${tableId} .input-width100{width:100%;}`,\n\t\t\t\t\t\t`#${tableId} div[role=tr] div[role=th][data-prop=operations]{justify-content:center;}`,\n\t\t\t\t\t\t`#${tableId} div[role=tr] div[role=td][data-prop=operations]{justify-content:center;color:red;}`\n\t\t\t\t\t].join(\"\\n\"),\n\t\t\t\tcolumns: {\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"名称\").label,\n\t\t\t\t\t\tprop: \"name\",\n\t\t\t\t\t\trenderEditor: ({ record }) => (\n\t\t\t\t\t\t\t<aAutoComplete\n\t\t\t\t\t\t\t\toptions={HTTP_REQUEST_HEADER.map(label => ({\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tvalue: label\n\t\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\t\tv-model:value={record.name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"参数值\").label,\n\t\t\t\t\t\tprop: \"value\",\n\t\t\t\t\t\trenderEditor: ({ record }) => (\n\t\t\t\t\t\t\t<aInput v-model:value={record.value} />\n\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"示例\").label,\n\t\t\t\t\t\tprop: \"example\",\n\t\t\t\t\t\trenderEditor: ({ record }) => (\n\t\t\t\t\t\t\t<aInput v-model:value={record.example} />\n\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"备注\").label,\n\t\t\t\t\t\tprop: \"desc\",\n\t\t\t\t\t\trenderEditor: ({ record }) => <aInput v-model:value={record.desc} />\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"操作\").label,\n\t\t\t\t\t\tprop: \"operations\",\n\t\t\t\t\t\twidth: \"40px\",\n\t\t\t\t\t\trenderHeader: () => null,\n\t\t\t\t\t\trenderCell: ({ record }) => (\n\t\t\t\t\t\t\t<xIcon\n\t\t\t\t\t\t\t\ticon=\"delete\"\n\t\t\t\t\t\t\t\tclass=\"pointer\"\n\t\t\t\t\t\t\t\tonClick={() => vm.deleteRow(record._id)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t};\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class=\"flex middle\">\n\t\t\t\t\t<aButton class=\"mb10\" onClick={this.addRow}>\n\t\t\t\t\t\t添加一行\n\t\t\t\t\t</aButton>\n\t\t\t\t\t<xGap f=\"1\" />\n\t\t\t\t\t<a class=\"mb10 mr10\" onClick={this.openBulkValuesDialog}>\n\t\t\t\t\t\t批量添加\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div style={{ height: \"300px\" }}>\n\t\t\t\t\t<xVirTable configs={this.configs_table} class=\"flex1 width100 \" />\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n});\n","import { defineComponent } from \"vue\";\nimport { HeaderParamsForm } from \"./HeaderParamsForm\";\n\nexport const HeaderParamsPanel = defineComponent({\n\t/* req_body_type */\n\tprops: {\n\t\treqHeaders: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\t},\n\temits: [\"update:reqHeaders\"],\n\tdata(vm) {\n\t\treturn {};\n\t},\n\trender(vm) {\n\t\treturn (\n\t\t\t<aCard>\n\t\t\t\t<HeaderParamsForm reqHeaders={this.reqHeaders} />\n\t\t\t</aCard>\n\t\t);\n\t}\n});\n","import {\r\n\tcompileVNode,\r\n\tdefCol,\r\n\tdefItem,\r\n\tdefXVirTableConfigs,\r\n\tUI,\r\n\txU\r\n} from \"@ventose/ui\";\r\nimport { ITEM_OPTIONS, ITEM_OPTIONS_VDOM } from \"src/utils/common.options\";\r\nimport { defineComponent, markRaw, reactive, watch } from \"vue\";\r\nimport { DialogBulkValues } from \"./DialogBulkValues\";\r\n\r\nfunction newFormData([name, value] = [\"\", \"\"]) {\r\n\treturn {\r\n\t\t_id: xU.genId(\"query_params\"),\r\n\t\tname: \"\",\r\n\t\trequired: \"1\",\r\n\t\texample: \"\",\r\n\t\tdesc: \"\"\r\n\t};\r\n}\r\n\r\nconst STRATEGY_CELL_ITEM_CONFIGS = {\r\n\tname: {},\r\n\trequired: {\r\n\t\titemType: \"Select\",\r\n\t\toptions: ITEM_OPTIONS.required\r\n\t},\r\n\texample: {},\r\n\tdesc: {}\r\n};\r\n\r\nconst BODY_PARAM_PROP_ARRAY = Object.keys(STRATEGY_CELL_ITEM_CONFIGS);\r\n\r\n/* virTable 的 renderEditor 缓存标识 ,关键是唯一，具体是啥无所谓，所以这里不用过分考虑顺序*/\r\nconst [ID_NAME, ID_TYPE, ID_REQUIRED, ID_RECORD, ID_DESC, ID_OPERATIONS] = [\r\n\t...BODY_PARAM_PROP_ARRAY,\r\n\t\"ID_OPERATIONS\"\r\n].map(xU.genId);\r\n\r\nexport const QueryParamsForm = defineComponent({\r\n\tprops: [\"reqQuery\"],\r\n\temits: [\"update:reqQuery\"],\r\n\twatch: {\r\n\t\treqQuery: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(formDataArray) {\r\n\t\t\t\tthis.resetDataForm(formDataArray);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\topenBulkValuesDialog() {\r\n\t\t\tUI.dialog.component({\r\n\t\t\t\ttitle: this.$t(\"批量添加参数\").label,\r\n\t\t\t\tcomponent: DialogBulkValues,\r\n\t\t\t\tformValues: xU.map(this.configs_table.dataSource, i => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: i.name,\r\n\t\t\t\t\t\tvalue: i.value\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t\tonOk: (formDataArray: any) => {\r\n\t\t\t\t\tthis.configs_table.dataSource = xU.map(formDataArray, newFormData);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\taddRow() {\r\n\t\t\tconsole.log(\"addRow\");\r\n\t\t\tthis.configs_table.dataSource.unshift(newFormData());\r\n\t\t},\r\n\t\tdeleteRow(_id) {\r\n\t\t\tconst index = xU.findIndex(this.configs_table.dataSource, { _id });\r\n\t\t\tif (~index) {\r\n\t\t\t\tthis.configs_table.dataSource.splice(index, 1);\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetDataForm(newFormDataArray) {\r\n\t\t\tthis.configs_table.dataSource = newFormDataArray;\r\n\t\t}\r\n\t},\r\n\tdata(vm) {\r\n\t\treturn {\r\n\t\t\tconfigs_table: defXVirTableConfigs({\r\n\t\t\t\trowHeight: 48,\r\n\t\t\t\tdataSource: [],\r\n\t\t\t\tcustomClass: tableId =>\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t`#${tableId} .input-width100{width:100%;}`,\r\n\t\t\t\t\t\t`#${tableId} div[role=td] .ant-tag{margin:auto;}`,\r\n\t\t\t\t\t\t`#${tableId} div[role=tr] div[role=th][data-prop=operations]{justify-content:center;}`,\r\n\t\t\t\t\t\t`#${tableId} div[role=tr] div[role=td][data-prop=operations]{justify-content:center;color:red;}`\r\n\t\t\t\t\t].join(\"\\n\"),\r\n\t\t\t\tcolumns: {\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"名称\").label,\r\n\t\t\t\t\t\tprop: \"name\",\r\n\t\t\t\t\t\trenderEditor: ({ record }) => <aInput v-model:value={record.name} />\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"必需\").label,\r\n\t\t\t\t\t\tprop: \"required\",\r\n\t\t\t\t\t\twidth: \"110px\",\r\n\t\t\t\t\t\trenderCell: ({ record }) =>\r\n\t\t\t\t\t\t\tITEM_OPTIONS_VDOM.required(record.required),\r\n\t\t\t\t\t\trenderEditor: ({ record }) => (\r\n\t\t\t\t\t\t\t<aSelect\r\n\t\t\t\t\t\t\t\toptions={ITEM_OPTIONS.required}\r\n\t\t\t\t\t\t\t\tv-model:value={record.required}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"示例\").label,\r\n\t\t\t\t\t\tprop: \"example\",\r\n\t\t\t\t\t\trenderEditor: ({ record }) => (\r\n\t\t\t\t\t\t\t<aInput v-model:value={record.example} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"备注\").label,\r\n\t\t\t\t\t\tprop: \"desc\",\r\n\t\t\t\t\t\trenderEditor: ({ record }) => <aInput v-model:value={record.desc} />\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tlabel: vm.$t(\"操作\").label,\r\n\t\t\t\t\t\tprop: \"operations\",\r\n\t\t\t\t\t\twidth: \"40px\",\r\n\t\t\t\t\t\trenderHeader: () => null,\r\n\t\t\t\t\t\trenderCell: ({ record }) => {\r\n\t\t\t\t\t\t\treturn compileVNode(\r\n\t\t\t\t\t\t\t\t`<xIcon icon=\"delete\" class=\"pointer\" @Click=\"deleteRow(record._id)\" />`,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trecord,\r\n\t\t\t\t\t\t\t\t\tdeleteRow: vm.deleteRow\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t};\r\n\t},\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div class=\"flex middle\">\r\n\t\t\t\t\t<aButton class=\"mb10\" onClick={this.addRow}>\r\n\t\t\t\t\t\t添加一行\r\n\t\t\t\t\t</aButton>\r\n\t\t\t\t\t<xGap f=\"1\" />\r\n\t\t\t\t\t<a class=\"mb10 mr10\" onClick={this.openBulkValuesDialog}>\r\n\t\t\t\t\t\t批量添加\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ height: \"300px\" }}>\r\n\t\t\t\t\t<xVirTable\r\n\t\t\t\t\t\tconfigs={this.configs_table}\r\n\t\t\t\t\t\tclass=\"flex1 width100 \"\r\n\t\t\t\t\t\tuniqBy=\"_id\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n});\r\n","import { defineComponent } from \"vue\";\nimport { QueryParamsForm } from \"./QueryParamsForm\";\n\nexport const QueryParamsPanel = defineComponent({\n\t/* req_body_type */\n\tprops: {\n\t\treqQuery: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\t},\n\temits: [\"update:reqQuery\"],\n\tdata(vm) {\n\t\treturn {};\n\t},\n\trender(vm) {\n\t\treturn (\n\t\t\t<aCard>\n\t\t\t\t<QueryParamsForm reqQuery={this.reqQuery} />\n\t\t\t</aCard>\n\t\t);\n\t}\n});\n","import { xU } from \"@ventose/ui\";\r\nimport { BODY, GET, HTTP_METHOD, QUERY } from \"src/utils/variable\";\r\nimport { defineComponent } from \"vue\";\r\nimport { BodyParamsPanel } from \"./interfaceParams/BodyParamsPanel\";\r\nimport { HeaderParamsPanel } from \"./interfaceParams/HeaderParamsPanel\";\r\nimport { QueryParamsPanel } from \"./interfaceParams/QueryParamsPanel\";\r\n\r\n/* \r\n1.接收apimethod 默认打开\r\n*/\r\nexport const RequestArgsPanel = defineComponent({\r\n\t__v_skip: true,\r\n\tprops: [\"params\", \"apiMethod\"],\r\n\t/* */\r\n\temits: [\"update:params\"],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcollapseActive: QUERY,\r\n\t\t\tprivateHttpMethod: GET,\r\n\t\t\tprivateParams: {}\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\tprivateParams(privateParams) {\r\n\t\t\tthis.$emit(\"update:params\", privateParams);\r\n\t\t},\r\n\t\tparams() {\r\n\t\t\tthis.privateParams = xU.cloneDeep(this.params);\r\n\t\t},\r\n\t\tapiMethod: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(apiMethod) {\r\n\t\t\t\tthis.privateHttpMethod = apiMethod || GET;\r\n\t\t\t\tthis.collapseActive = HTTP_METHOD[this.privateHttpMethod].default_tab;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tbodyCollapsible() {\r\n\t\t\t/* 与编辑的 接口路径下的apiMethod */\r\n\t\t\treturn HTTP_METHOD[this.privateHttpMethod].request_body ? \"\" : \"disabled\";\r\n\t\t}\r\n\t},\r\n\trender() {\r\n\t\tif (!this.privateParams.req_headers) {\r\n\t\t\treturn <aSpin spinning={true} class=\"flex middle height100 width100\" />;\r\n\t\t}\r\n\r\n\t\tconst bodyHeader = (() => {\r\n\t\t\tif (this.privateParams.req_body_type == \"form\") {\r\n\t\t\t\treturn `${BODY} ${this.privateParams.req_body_type} ${this.privateParams.req_body_form.length}`;\r\n\t\t\t}\r\n\r\n\t\t\treturn `${BODY} ${this.privateParams.req_body_type}`;\r\n\t\t})();\r\n\r\n\t\treturn (\r\n\t\t\t<aCollapse v-model:activeKey={this.collapseActive}>\r\n\t\t\t\t<aCollapsePanel\r\n\t\t\t\t\tkey=\"header\"\r\n\t\t\t\t\theader={`header ${this.privateParams.req_headers.length}`}>\r\n\t\t\t\t\t<HeaderParamsPanel\r\n\t\t\t\t\t\tv-model:reqHeaders={this.privateParams.req_headers}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</aCollapsePanel>\r\n\t\t\t\t<aCollapsePanel\r\n\t\t\t\t\tkey={QUERY}\r\n\t\t\t\t\theader={`${QUERY} ${this.privateParams.req_query.length}`}>\r\n\t\t\t\t\t<QueryParamsPanel v-model:reqQuery={this.privateParams.req_query} />\r\n\t\t\t\t</aCollapsePanel>\r\n\t\t\t\t<aCollapsePanel\r\n\t\t\t\t\tkey={BODY}\r\n\t\t\t\t\theader={bodyHeader}\r\n\t\t\t\t\tcollapsible={this.bodyCollapsible}>\r\n\t\t\t\t\t<BodyParamsPanel v-model:params={this.privateParams} />\r\n\t\t\t\t</aCollapsePanel>\r\n\t\t\t</aCollapse>\r\n\t\t);\r\n\t}\r\n});\r\n","import { xU } from \"@ventose/ui\";\r\nimport { defineComponent } from \"vue\";\r\nimport { JsonSchemaMonaco } from \"../components/JsonSchemaEditor/JsonSchemaMonaco\";\r\n\r\n/* \r\n1.接收apimethod 默认打开\r\n*/\r\nexport const ResponsePanel = defineComponent({\r\n\tprops: [\"body\"],\r\n\temits: [\"update:body\"],\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tcomputed: {\r\n\t\tresBody: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.body || `{}`;\r\n\t\t\t},\r\n\t\t\tset(val) {\r\n\t\t\t\tthis.$emit(\"update:body\", val);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style=\"height:400px;\">\r\n\t\t\t\t<JsonSchemaMonaco v-model:schemaString={this.resBody} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n","import { xU, State_UI } from \"@ventose/ui\";\r\n\r\nexport const asyncGetTuiEditor = async () => {\r\n\tif (window.TuiEditor) {\r\n\t\treturn window.TuiEditor;\r\n\t}\r\n\txU.asyncLoadStyle(`${State_UI.bashPath}tui-editor/style.css`);\r\n\treturn await xU.asyncGlobalJS(\r\n\t\t\"TuiEditor\",\r\n\t\t`${State_UI.bashPath}tui-editor/tui.js`\r\n\t);\r\n};\r\n","//@ts-nocheck\r\nimport { xU, $ } from \"@ventose/ui\";\r\nimport { defineComponent, defineAsyncComponent } from \"vue\";\r\nimport { asyncGetTuiEditor } from \"./LoadTuiEditorLibs\";\r\n\r\nexport const TuiEditor = defineAsyncComponent(\r\n\t() =>\r\n\t\tnew Promise(async resolve => {\r\n\t\t\tconst TuiEditor = await asyncGetTuiEditor();\r\n\t\t\tresolve(\r\n\t\t\t\tdefineComponent({\r\n\t\t\t\t\tprops: [\"modelValue\"],\r\n\t\t\t\t\temits: [\"update:modelValue\"],\r\n\t\t\t\t\tdata() {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\t\tid: xU.genId(\"TuiEditor\"),\r\n\t\t\t\t\t\t\traw$md: \"\"\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmounted() {\r\n\t\t\t\t\t\tthis.once();\r\n\t\t\t\t\t},\r\n\t\t\t\t\twatch: {\r\n\t\t\t\t\t\t\"modelValue.md\": {\r\n\t\t\t\t\t\t\timmediate: true,\r\n\t\t\t\t\t\t\tasync handler(mdString) {\r\n\t\t\t\t\t\t\t\tawait xU.ensureValueDone(() => this.raw$editor);\r\n\t\t\t\t\t\t\t\tif (this.raw$md !== mdString) {\r\n\t\t\t\t\t\t\t\t\tthis.raw$editor.setMarkdown(mdString);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethods: {\r\n\t\t\t\t\t\tasync sync() {\r\n\t\t\t\t\t\t\tawait xU.ensureValueDone(() => this.syncDebounce);\r\n\t\t\t\t\t\t\t$(this.raw$selector).show().addClass(\"flash infinite\");\r\n\t\t\t\t\t\t\tthis.syncDebounce();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t//初始化方法\r\n\t\t\t\t\t\tasync once() {\r\n\t\t\t\t\t\t\tlet vm = this;\r\n\t\t\t\t\t\t\t(() => {\r\n\t\t\t\t\t\t\t\tvm.raw$editor = new TuiEditor({\r\n\t\t\t\t\t\t\t\t\tel: vm.$refs.container,\r\n\t\t\t\t\t\t\t\t\tinitialEditType: \"wysiwyg\",\r\n\t\t\t\t\t\t\t\t\tpreviewStyle: \"vertical\",\r\n\t\t\t\t\t\t\t\t\theight: \"auto\",\r\n\t\t\t\t\t\t\t\t\tinitialValue: vm.raw$md || \"\",\r\n\t\t\t\t\t\t\t\t\thooks: {\r\n\t\t\t\t\t\t\t\t\t\t/* EventEmitter.prototype.emit  */\r\n\t\t\t\t\t\t\t\t\t\tchange: vm.sync,\r\n\t\t\t\t\t\t\t\t\t\taddImageBlobHook: (blob, callback) => {\r\n\t\t\t\t\t\t\t\t\t\t\tvm.isLoading = true;\r\n\t\t\t\t\t\t\t\t\t\t\tvar reader = new FileReader();\r\n\t\t\t\t\t\t\t\t\t\t\treader.onload = function (_a) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar target2 = _a.target;\r\n\t\t\t\t\t\t\t\t\t\t\t\tvm.isLoading = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn callback(target2.result);\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\treader.readAsDataURL(blob);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tconst className = `sync_${vm._.uid}`;\r\n\t\t\t\t\t\t\t\tvm.raw$selector = `.${className}`;\r\n\t\t\t\t\t\t\t\tvm.raw$editor.insertToolbarItem(\r\n\t\t\t\t\t\t\t\t\t{ groupIndex: 4, itemIndex: 2 },\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: \"sync\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"Sync...\",\r\n\t\t\t\t\t\t\t\t\t\tid: \"toastuiEditorToolbarIconsSync\",\r\n\t\t\t\t\t\t\t\t\t\tclassName: `toastui-editor-toolbar-icons animated ${className}`,\r\n\t\t\t\t\t\t\t\t\t\tstyle: { backgroundImage: \"none\" }\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})();\r\n\r\n\t\t\t\t\t\t\t(() => {\r\n\t\t\t\t\t\t\t\tvm.syncDebounce = xU.debounce(async function () {\r\n\t\t\t\t\t\t\t\t\tconst mdString = vm.raw$editor.getMarkdown();\r\n\t\t\t\t\t\t\t\t\tif (vm.modelValue.md !== mdString) {\r\n\t\t\t\t\t\t\t\t\t\tvm.$emit(\"update:modelValue\", {\r\n\t\t\t\t\t\t\t\t\t\t\tmd: mdString,\r\n\t\t\t\t\t\t\t\t\t\t\thtml: vm.raw$editor.getHTML()\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tvm.raw$md = mdString;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t$(this.raw$selector).removeClass(\"flash infinite\").hide();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t})();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\trender(vm) {\r\n\t\t\t\t\t\tif (vm.$attrs.readonly) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tv-html={vm.modelValue.html}\r\n\t\t\t\t\t\t\t\t\tclass=\"toastui-editor-contents\"></div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div v-loading={vm.isLoading}>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid={vm.id}\r\n\t\t\t\t\t\t\t\t\tref=\"container\"\r\n\t\t\t\t\t\t\t\t\tclass=\"flex1\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"height:300px;width:100%;\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t})\r\n);\r\n","import { DialogUpsertTags } from \"./DialogUpsertTags\";\r\nimport { DialogUpsertProxyEnv } from \"./DialogUpsertProxyEnv\";\r\nimport { RequestArgsPanel } from \"src/components/RequestArgsPanel\";\r\nimport { ResponsePanel } from \"src/components/ResponsePanel\";\r\nimport { TuiEditor } from \"../../../components/TuiEditor/TuiEditor\";\r\nimport { $, State_UI, UI, xU, compileVNode, defItem } from \"@ventose/ui\";\r\nimport { defineComponent, h, reactive } from \"vue\";\r\n\r\nexport async function openProxyEnvDialog() {\r\n\tconst { _layerKey } = await UI.dialog.component({\r\n\t\ttitle: State_UI.$t(\"管理项目接口转发环境\").label,\r\n\t\tcomponent: DialogUpsertProxyEnv\r\n\t});\r\n\t/*弹窗里面的弹窗点击之后不关闭（点不到其他位置）*/\r\n\t$(`#layui-layer-shade${_layerKey}`).css(\"z-index\", 1);\r\n}\r\n\r\nexport async function openUpsertTagDialog() {\r\n\tconst { _layerKey } = await UI.dialog.component({\r\n\t\ttitle: State_UI.$t(\"管理项目接口Tags\").label,\r\n\t\tcomponent: DialogUpsertTags\r\n\t});\r\n\t/*弹窗里面的弹窗点击之后不关闭（点不到其他位置）*/\r\n\t$(`#layui-layer-shade${_layerKey}`).css(\"z-index\", 1);\r\n}\r\n\r\nexport const InpterfacePathParams = defineComponent({\r\n\t__v_skip: true,\r\n\tprops: [\"properties\", \"slots\", \"listeners\", \"propsWillDeleteFromConfigs\"],\r\n\tmethods: {\r\n\t\tfnUpdate(prop, value, index) {\r\n\t\t\tthis.properties.value[index][prop] = value;\r\n\t\t\tthis.listeners[\"onUpdate:value\"](this.properties.value);\r\n\t\t}\r\n\t},\r\n\trender(vm) {\r\n\t\treturn xU.map(vm.properties.value, (data, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div class=\"flex middel mt10 width100\">\r\n\t\t\t\t\t<aTag class=\"mr10 flex middle\" style=\"min-width:100px\">\r\n\t\t\t\t\t\t{data.name}\r\n\t\t\t\t\t</aTag>\r\n\t\t\t\t\t<span class=\"mr10 flex1\">\r\n\t\t\t\t\t\t<aInput\r\n\t\t\t\t\t\t\tvalue={data.example}\r\n\t\t\t\t\t\t\tonUpdate:value={val => {\r\n\t\t\t\t\t\t\t\tthis.fnUpdate(\"example\", val, index);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span class=\"flex1\">\r\n\t\t\t\t\t\t<aInput\r\n\t\t\t\t\t\t\tvalue={data.desc}\r\n\t\t\t\t\t\t\tonUpdate:value={val => {\r\n\t\t\t\t\t\t\t\tthis.fnUpdate(\"desc\", val, index);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n});\r\n\r\nexport const EnvSelectRender = defineComponent({\r\n\t__v_skip: true,\r\n\tprops: [\"properties\", \"slots\", \"listeners\", \"propsWillDeleteFromConfigs\"],\r\n\trender(vm) {\r\n\t\tvm.properties.value = vm.properties.value || [];\r\n\t\tconst options = vm.properties.options || [];\r\n\t\tconst fnUpdate = val => {\r\n\t\t\tvm.listeners[\"onUpdate:value\"](val);\r\n\t\t};\r\n\t\tconst vDomOptions = xU.map(options, item => {\r\n\t\t\treturn (\r\n\t\t\t\t<aSelectOption value={item.value} key={item.value}>\r\n\t\t\t\t\t{item.label}\r\n\t\t\t\t</aSelectOption>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div class=\"flex overflow-auto\">\r\n\t\t\t\t<aSelect\r\n\t\t\t\t\tplaceholder=\"请选择转发环境\"\r\n\t\t\t\t\tonChange={fnUpdate}\r\n\t\t\t\t\tvalue={vm.properties.value}>\r\n\t\t\t\t\t{vDomOptions}\r\n\t\t\t\t</aSelect>\r\n\t\t\t\t<xGap l=\"10\" />\r\n\t\t\t\t<xButton\r\n\t\t\t\t\tconfigs={{\r\n\t\t\t\t\t\ttext: State_UI.$t(\"转发环境设置\").label,\r\n\t\t\t\t\t\tonClick: openProxyEnvDialog\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclass=\"ml10\"\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nexport const TagSelectRender = defineComponent({\r\n\t__v_skip: true,\r\n\tprops: [\"properties\", \"slots\", \"listeners\", \"propsWillDeleteFromConfigs\"],\r\n\tcomputed: {\r\n\t\tselected: {\r\n\t\t\tget() {\r\n\t\t\t\tif (xU.isArrayFill(this.properties?.value)) {\r\n\t\t\t\t\treturn this.properties?.value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tset(val) {\r\n\t\t\t\tif (this.properties?.value !== val) {\r\n\t\t\t\t\tthis.listeners[\"onUpdate:value\"](val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tvDomOptions() {\r\n\t\t\tconst options = this.properties.options || [];\r\n\t\t\tconst vDomOptions = xU.map(options, item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<aSelectOption value={item.name} key={item.name}>\r\n\t\t\t\t\t\t<span v-uiPopover={{ content: item.desc }}>{item.name}</span>\r\n\t\t\t\t\t</aSelectOption>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\treturn vDomOptions;\r\n\t\t}\r\n\t},\r\n\trender(vm) {\r\n\t\treturn (\r\n\t\t\t<div class=\"flex overflow-auto\">\r\n\t\t\t\t<aSelect\r\n\t\t\t\t\tplaceholder=\"请选择 tag\"\r\n\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\tv-model:value={vm.selected}>\r\n\t\t\t\t\t{this.vDomOptions}\r\n\t\t\t\t</aSelect>\r\n\t\t\t\t<xGap l=\"10\" />\r\n\t\t\t\t<xButton\r\n\t\t\t\t\tconfigs={{\r\n\t\t\t\t\t\ttext: vm.$t(\"Tag设置\").label,\r\n\t\t\t\t\t\tonClick: openUpsertTagDialog\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclass=\"ml10\"\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nexport const RequestArgsRender = defineComponent({\r\n\t__v_skip: true,\r\n\tprops: [\"properties\", \"slots\", \"listeners\", \"propsWillDeleteFromConfigs\"],\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<RequestArgsPanel\r\n\t\t\t\tparams={this.properties?.value}\r\n\t\t\t\tapiMethod={this.properties?.deepWatch?.apiMethod}\r\n\t\t\t\tonUpdate:params={this.listeners[\"onUpdate:value\"]}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nexport const MarkdownRender = defineComponent({\r\n\t__v_skip: true,\r\n\tprops: [\"properties\", \"slots\", \"listeners\", \"propsWillDeleteFromConfigs\"],\r\n\tcomponents: { TuiEditor },\r\n\tcomputed: {\r\n\t\tmodelValue: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.properties?.value || { md: \"\", html: \"\" };\r\n\t\t\t},\r\n\t\t\tset(modelValue) {\r\n\t\t\t\tthis.listeners[\"onUpdate:value\"](modelValue);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\trender(vm) {\r\n\t\treturn <TuiEditor v-model={vm.modelValue} />;\r\n\t}\r\n});\r\n\r\nexport const ResponseRender = defineComponent({\r\n\t__v_skip: true,\r\n\tprops: [\"properties\", \"slots\", \"listeners\", \"propsWillDeleteFromConfigs\"],\r\n\tcomputed: {\r\n\t\tbody: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.properties?.value?.res_body || \"\";\r\n\t\t\t},\r\n\t\t\tset(res_body) {\r\n\t\t\t\tthis.listeners[\"onUpdate:value\"]({\r\n\t\t\t\t\t...this.properties.value,\r\n\t\t\t\t\tres_body\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\trender(vm) {\r\n\t\treturn <ResponsePanel v-model:body={vm.body} />;\r\n\t}\r\n});\r\n","import {\r\n\t$,\r\n\tAllWasWell,\r\n\tdefItem,\r\n\tpickValueFrom,\r\n\tsetValueTo,\r\n\tState_UI,\r\n\tUI,\r\n\tvalidateForm,\r\n\tVNodeCollection,\r\n\txU\r\n} from \"@ventose/ui\";\r\nimport { defineComponent, markRaw } from \"vue\";\r\nimport { API } from \"src/api/index\";\r\nimport { State_App } from \"../../../state/State_App\";\r\nimport { FormRules } from \"../../../utils/common.FormRules\";\r\nimport { ITEM_OPTIONS } from \"../../../utils/common.options\";\r\nimport { HTTP_METHOD } from \"./../../../utils/variable\";\r\nimport { Methods_Project, State_Project } from \"./State_Project\";\r\nimport { _$handlePath } from \"src/utils/common\";\r\nimport {\r\n\tEnvSelectRender,\r\n\tInpterfacePathParams,\r\n\tMarkdownRender,\r\n\tRequestArgsRender,\r\n\tResponseRender,\r\n\tTagSelectRender\r\n} from \"./DialogModifyInterface.Helper\";\r\nimport { Cpt_url } from \"../../../router/router\";\r\n\r\nexport const DialogModifyInterface = defineComponent({\r\n\tprops: {\r\n\t\t/* Dialog 默认传入参数 */\r\n\t\tpropDialogOptions: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn { __elId: false };\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tsetup() {\r\n\t\treturn { State_App, State_Project };\r\n\t},\r\n\tcomputed: {\r\n\t\tvDomXItemPathparams() {\r\n\t\t\tif (xU.isArrayFill(this.dataXItem.pathParams.value)) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{/* {JSON.stringify(this.dataXItem.pathParams.value, null, 2)} */}\r\n\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t<xItem configs={this.dataXItem.pathParams} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tinterfaceId() {\r\n\t\t\treturn this.propDialogOptions.oldInterface._id;\r\n\t\t},\r\n\t\tconfigsDialogFooter() {\r\n\t\t\treturn {\r\n\t\t\t\tcancel: {\r\n\t\t\t\t\tpreset: \"cancel\",\r\n\t\t\t\t\tonClick: async () => {\r\n\t\t\t\t\t\tthis.propDialogOptions.closeDialog();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tsave: {\r\n\t\t\t\t\tpreset: \"save\",\r\n\t\t\t\t\tonClick: this.submit\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst vm = this;\r\n\t\treturn {\r\n\t\t\treqArgs: \"1\",\r\n\t\t\tdetailInfo: {},\r\n\t\t\tactiveKey: \"1\",\r\n\t\t\tdataXItem: {\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\titemType: \"Select\",\r\n\t\t\t\t\tprop: \"catid\",\r\n\t\t\t\t\tlabel: vm.$t(\"接口分类\").label,\r\n\t\t\t\t\tplaceholder: \"分类名称\",\r\n\t\t\t\t\toptions: [],\r\n\t\t\t\t\trules: [FormRules.required()],\r\n\t\t\t\t\tsetOptions(allCategory) {\r\n\t\t\t\t\t\tthis.options = allCategory;\r\n\t\t\t\t\t\t/* 默认在点击的分类下添加新接口 */\r\n\t\t\t\t\t\tif (vm.propDialogOptions.categoryId) {\r\n\t\t\t\t\t\t\tthis.value = vm.propDialogOptions.categoryId;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.value = xU.first(this.options)?.value || \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\tprop: \"title\",\r\n\t\t\t\t\tlabel: vm.$t(\"接口名称\").label,\r\n\t\t\t\t\tplaceholder: vm.$t(\"接口名称\").label,\r\n\t\t\t\t\trules: [\r\n\t\t\t\t\t\tFormRules.required(),\r\n\t\t\t\t\t\tFormRules.nameLength({ label: vm.$t(\"接口\").label })\r\n\t\t\t\t\t]\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tvalue: vm.State_App.currProject.basepath,\r\n\t\t\t\t\tprop: \"basepath\",\r\n\t\t\t\t\tlabel: vm.$t(\"接口基本路径\").label,\r\n\t\t\t\t\tlabelVNodeRender:\r\n\t\t\t\t\t\tVNodeCollection.labelTips(`接口基本路径，可在 项目设置 里修改`),\r\n\t\t\t\t\tdisabled: true\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\titemType: \"Select\",\r\n\t\t\t\t\tprop: \"apiMethod\",\r\n\t\t\t\t\toptions: ITEM_OPTIONS.httpMethod,\r\n\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\t/* 控制body是否可以编辑 */\r\n\t\t\t\t\t\tvm.dataXItem.requestArgs.deepWatch.apiMethod = val;\r\n\t\t\t\t\t},\r\n\t\t\t\t\trules: [FormRules.required()],\r\n\t\t\t\t\tstyle: { width: \"120px\" }\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\tprop: \"path\",\r\n\t\t\t\t\tlabel: vm.$t(\"接口路径\").label,\r\n\t\t\t\t\tlabelVNodeRender: VNodeCollection.labelTips(\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t1.接口路径支持路由参数，例如:/api/v1/project\r\n\t\t\t\t\t\t\t\t<b>/{\"{projectId}\"}</b>。\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t2.Query参数，例如/api/v1/project<b>?projectId=0001</b>。请定义到\r\n\t\t\t\t\t\t\t\t<b>Request设置-&#62;Query</b>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tplaceholder: \"/path\",\r\n\t\t\t\t\trules: [FormRules.required(), FormRules.apiPath()],\r\n\t\t\t\t\tonce() {\r\n\t\t\t\t\t\tconst vDomApiMethodsSelector = (\r\n\t\t\t\t\t\t\t<xItem configs={vm.dataXItem.apiMethod} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tthis.slots = markRaw({\r\n\t\t\t\t\t\t\taddonBefore: () => vDomApiMethodsSelector\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonAfterValueEmit: xU.debounce(function (newPatnValue) {\r\n\t\t\t\t\t\tnewPatnValue = _$handlePath(newPatnValue);\r\n\t\t\t\t\t\tlet queue = [];\r\n\t\t\t\t\t\tsetValueTo(vm.dataXItem, { path: newPatnValue });\r\n\t\t\t\t\t\tconst { pathParams } = pickValueFrom(vm.dataXItem);\r\n\r\n\t\t\t\t\t\tlet insertParams = name => {\r\n\t\t\t\t\t\t\tlet findExist = xU.find(pathParams, { name: name });\r\n\t\t\t\t\t\t\tif (findExist) {\r\n\t\t\t\t\t\t\t\tqueue.push(findExist);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tqueue.push({ name: name, desc: \"\" });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tif (newPatnValue && newPatnValue.indexOf(\":\") !== -1) {\r\n\t\t\t\t\t\t\tlet paths = newPatnValue.split(\"/\"),\r\n\t\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\tfor (i = 1; i < paths.length; i++) {\r\n\t\t\t\t\t\t\t\tif (paths[i][0] === \":\") {\r\n\t\t\t\t\t\t\t\t\tname = paths[i].substr(1);\r\n\t\t\t\t\t\t\t\t\tinsertParams(name);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (newPatnValue && newPatnValue.length > 3) {\r\n\t\t\t\t\t\t\tnewPatnValue.replace(/\\{(.+?)\\}/g, function (str, match) {\r\n\t\t\t\t\t\t\t\tinsertParams(match);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsetValueTo(vm.dataXItem, {\r\n\t\t\t\t\t\t\tpathParams: xU.map(xU.uniqBy(queue, \"name\"), newValue => {\r\n\t\t\t\t\t\t\t\t/* @ts-ignore */\r\n\t\t\t\t\t\t\t\treturn xU.merge({ name: \"\", desc: \"\", example: \"\" }, newValue);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 800)\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tprop: \"pathParams\",\r\n\t\t\t\t\tlabel: vm.$t(\"接口路径参数\").label,\r\n\t\t\t\t\tvalue: [],\r\n\t\t\t\t\titemType: markRaw(InpterfacePathParams)\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tprop: \"tag\",\r\n\t\t\t\t\tlabel: \"Tag\",\r\n\t\t\t\t\tvalue: [],\r\n\t\t\t\t\toptions: [],\r\n\t\t\t\t\tasync setOptions(tagArray) {\r\n\t\t\t\t\t\tthis.options = tagArray;\r\n\t\t\t\t\t},\r\n\t\t\t\t\titemType: markRaw(TagSelectRender)\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tprop: \"isProxy\",\r\n\t\t\t\t\tvalue: false,\r\n\t\t\t\t\tlabel: vm.$t(\"是否开启转发\").label,\r\n\t\t\t\t\toptions: ITEM_OPTIONS.trueOrFalse,\r\n\t\t\t\t\titemType: \"Switch\"\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tisShow() {\r\n\t\t\t\t\t\treturn vm.dataXItem.isProxy.value;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprop: \"witchEnv\",\r\n\t\t\t\t\tlabel: vm.$t(\"转发环境\").label,\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\toptions: [],\r\n\t\t\t\t\tsetOptions(envArray) {\r\n\t\t\t\t\t\tthis.options = xU.map(envArray, i => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tvalue: i._id,\r\n\t\t\t\t\t\t\t\tlabel: `${i.name} ${i.domain}`\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\titemType: markRaw(EnvSelectRender)\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tprop: \"requestArgs\",\r\n\t\t\t\t\tlabel: vm.$t(\"请求参数设置\").label,\r\n\t\t\t\t\tvalue: [],\r\n\t\t\t\t\tactiveKey: \"1\",\r\n\t\t\t\t\tdeepWatch: { apiMethod: \"\" },\r\n\t\t\t\t\titemType: markRaw(RequestArgsRender)\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tprop: \"responseArgs\",\r\n\t\t\t\t\tlabel: vm.$t(\"响应参数设置\").label,\r\n\t\t\t\t\tvalue: {},\r\n\t\t\t\t\tactiveKey: \"1\",\r\n\t\t\t\t\tapiMethod: \"\",\r\n\t\t\t\t\titemType: markRaw(ResponseRender)\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tprop: \"remark\",\r\n\t\t\t\t\tlabel: vm.$t(\"备注\").label,\r\n\t\t\t\t\tvalue: { html: \"\", md: \"\" },\r\n\t\t\t\t\titemType: markRaw(MarkdownRender)\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tprop: \"noticed\",\r\n\t\t\t\t\tlabel: vm.$t(\"消息通知\").label,\r\n\t\t\t\t\tlabelVNodeRender: VNodeCollection.labelTips(\r\n\t\t\t\t\t\t<div>{vm.$t(\"开启消息通知，可在 项目设置 里修改\").label}</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcheckedChildren: vm.$t(\"开\").label,\r\n\t\t\t\t\tunCheckedChildren: vm.$t(\"关\").label,\r\n\t\t\t\t\tvalue: true,\r\n\t\t\t\t\titemType: \"Switch\"\r\n\t\t\t\t}),\r\n\t\t\t\t...defItem({\r\n\t\t\t\t\tprop: \"api_opened\",\r\n\t\t\t\t\tlabel: vm.$t(\"开放接口\").label,\r\n\t\t\t\t\tlabelVNodeRender: VNodeCollection.labelTips(\r\n\t\t\t\t\t\t<div>{vm.$t(\"用户可以在 数据导出 时选择只导出公开接口\").label}</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcheckedChildren: vm.$t(\"开\").label,\r\n\t\t\t\t\tunCheckedChildren: vm.$t(\"关\").label,\r\n\t\t\t\t\tvalue: false,\r\n\t\t\t\t\titemType: \"Switch\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.setFormDataValues();\r\n\t},\r\n\twatch: {\r\n\t\t\"State_App.currProject\": {\r\n\t\t\timmediate: true,\r\n\t\t\tdeep: true,\r\n\t\t\thandler(currProject) {\r\n\t\t\t\tconst { env: envArray, tag: tagArray, cat: category } = currProject;\r\n\t\t\t\tthis.dataXItem.catid.setOptions(\r\n\t\t\t\t\txU.map(category, i => ({ ...i, label: i.name, value: i._id }))\r\n\t\t\t\t);\r\n\t\t\t\tthis.dataXItem.witchEnv.setOptions(envArray);\r\n\t\t\t\tthis.dataXItem.tag.setOptions(tagArray);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync setFormDataValues() {\r\n\t\t\tconst { data } = await API.project.fetchInterfaceDetail(\r\n\t\t\t\tthis.propDialogOptions.interfaceId\r\n\t\t\t);\r\n\t\t\tthis.detailInfo = this.initState(data);\r\n\t\t\txU.doNothing(JSON.stringify(this.detailInfo, null, 2));\r\n\t\t\tconst {\r\n\t\t\t\tapi_opened,\r\n\t\t\t\tcatid,\r\n\t\t\t\ttitle,\r\n\t\t\t\tpath,\r\n\t\t\t\treq_params,\r\n\t\t\t\ttag,\r\n\t\t\t\tisProxy,\r\n\t\t\t\twitchEnv,\r\n\t\t\t\tmethod,\r\n\t\t\t\treq_headers,\r\n\t\t\t\treq_body_type,\r\n\t\t\t\treq_query,\r\n\t\t\t\treq_body_form,\r\n\t\t\t\treq_body_other,\r\n\t\t\t\treq_body_is_json_schema,\r\n\t\t\t\tres_body,\r\n\t\t\t\tres_body_type,\r\n\t\t\t\tres_body_mock,\r\n\t\t\t\tres_body_is_json_schema,\r\n\t\t\t\tdesc,\r\n\t\t\t\tmarkdown\r\n\t\t\t} = this.detailInfo;\r\n\t\t\tsetValueTo(this.dataXItem, {\r\n\t\t\t\twitchEnv,\r\n\t\t\t\tcatid,\r\n\t\t\t\ttitle,\r\n\t\t\t\tapiMethod: method,\r\n\t\t\t\tpath,\r\n\t\t\t\tremark: { md: markdown, html: desc },\r\n\t\t\t\tpathParams: req_params,\r\n\t\t\t\ttag: String(tag).split(\",\").filter(xU.isInput),\r\n\t\t\t\tisProxy,\r\n\t\t\t\trequestArgs: {\r\n\t\t\t\t\treq_headers,\r\n\t\t\t\t\t/* body的编辑类型 */\r\n\t\t\t\t\treq_body_type,\r\n\t\t\t\t\t/* query */\r\n\t\t\t\t\treq_query,\r\n\t\t\t\t\t/* req_body_form 的数据 */\r\n\t\t\t\t\treq_body_form,\r\n\t\t\t\t\t/* req_body file raw json 的数据 */\r\n\t\t\t\t\treq_body_other,\r\n\t\t\t\t\t/* body json 使用 schema */\r\n\t\t\t\t\treq_body_is_json_schema\r\n\t\t\t\t},\r\n\t\t\t\tresponseArgs: {\r\n\t\t\t\t\tres_body_is_json_schema,\r\n\t\t\t\t\tres_body,\r\n\t\t\t\t\tres_body_type,\r\n\t\t\t\t\tres_body_mock\r\n\t\t\t\t},\r\n\t\t\t\tapi_opened,\r\n\t\t\t\tnoticed: this.State_App.currProject.switch_notice\r\n\t\t\t});\r\n\t\t},\r\n\t\tinitState(detailInfo) {\r\n\t\t\tif (detailInfo.req_body_form) {\r\n\t\t\t\tdetailInfo.req_body_form = detailInfo.req_body_form.map(item => {\r\n\t\t\t\t\titem.type = item.type === \"text\" ? \"text\" : \"file\";\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn detailInfo;\r\n\t\t},\r\n\t\tgetFormData() {\r\n\t\t\tconst {\r\n\t\t\t\tcatid,\r\n\t\t\t\ttitle,\r\n\t\t\t\tapiMethod,\r\n\t\t\t\tpath,\r\n\t\t\t\ttag,\r\n\t\t\t\tisProxy,\r\n\t\t\t\twitchEnv,\r\n\t\t\t\tremark,\r\n\t\t\t\trequestArgs,\r\n\t\t\t\tresponseArgs,\r\n\t\t\t\tpathParams,\r\n\t\t\t\tapi_opened,\r\n\t\t\t\tnoticed\r\n\t\t\t} = pickValueFrom(this.dataXItem);\r\n\r\n\t\t\t/* 请求 */\r\n\t\t\tconst {\r\n\t\t\t\treq_body_type,\r\n\t\t\t\treq_body_other,\r\n\t\t\t\treq_query,\r\n\t\t\t\treq_headers,\r\n\t\t\t\treq_body_form\r\n\t\t\t} = requestArgs;\r\n\t\t\t/* 响应 */\r\n\t\t\tconst { res_body_type, res_body } = responseArgs;\r\n\t\t\t/* 备注 */\r\n\t\t\tconst { html: desc, md: markdown } = remark;\r\n\r\n\t\t\tconst _formData = {\r\n\t\t\t\tid: this.detailInfo._id,\r\n\t\t\t\t/* 接口分类 */\r\n\t\t\t\tcatid,\r\n\t\t\t\ttitle,\r\n\t\t\t\tmethod: apiMethod,\r\n\t\t\t\tpath,\r\n\t\t\t\tisProxy,\r\n\t\t\t\twitchEnv,\r\n\t\t\t\treq_params: pathParams,\r\n\t\t\t\ttag,\r\n\t\t\t\t/* 请求 */\r\n\t\t\t\treq_body_type,\r\n\t\t\t\treq_body_other,\r\n\t\t\t\treq_query,\r\n\t\t\t\treq_headers,\r\n\t\t\t\treq_body_form,\r\n\t\t\t\treq_body_is_json_schema: true,\r\n\t\t\t\t/* 响应 */\r\n\t\t\t\tres_body_type,\r\n\t\t\t\tres_body,\r\n\t\t\t\tres_body_is_json_schema: true,\r\n\t\t\t\tdesc,\r\n\t\t\t\tmarkdown,\r\n\t\t\t\tapi_opened,\r\n\t\t\t\t/* 当前修改是否发送通知邮件 */\r\n\t\t\t\tswitch_notice: noticed\r\n\t\t\t};\r\n\r\n\t\t\tlet isFile = false;\r\n\t\t\tlet haveContentType = false;\r\n\r\n\t\t\tif (_formData.req_body_type === \"form\") {\r\n\t\t\t\txU.each(_formData.req_body_form, item => {\r\n\t\t\t\t\tdelete item._id;\r\n\t\t\t\t\tif (item.type === \"file\") {\r\n\t\t\t\t\t\tisFile = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\txU.each(_formData.req_headers, item => {\r\n\t\t\t\t\tdelete item._id;\r\n\t\t\t\t\tif (item.name === \"Content-Type\") {\r\n\t\t\t\t\t\titem.value = isFile\r\n\t\t\t\t\t\t\t? \"multipart/form-data\"\r\n\t\t\t\t\t\t\t: \"application/x-www-form-urlencoded\";\r\n\t\t\t\t\t\thaveContentType = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (haveContentType === false) {\r\n\t\t\t\t\t_formData.req_headers.unshift({\r\n\t\t\t\t\t\tname: \"Content-Type\",\r\n\t\t\t\t\t\tvalue: isFile\r\n\t\t\t\t\t\t\t? \"multipart/form-data\"\r\n\t\t\t\t\t\t\t: \"application/x-www-form-urlencoded\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else if (_formData.req_body_type === \"json\") {\r\n\t\t\t\t_formData.req_headers\r\n\t\t\t\t\t? xU.each(_formData.req_headers, item => {\r\n\t\t\t\t\t\t\tdelete item._id;\r\n\t\t\t\t\t\t\tif (item.name === \"Content-Type\") {\r\n\t\t\t\t\t\t\t\titem.value = \"application/json\";\r\n\t\t\t\t\t\t\t\thaveContentType = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: [];\r\n\r\n\t\t\t\tif (haveContentType === false) {\r\n\t\t\t\t\t_formData.req_headers = _formData.req_headers || [];\r\n\t\t\t\t\t_formData.req_headers.unshift({\r\n\t\t\t\t\t\tname: \"Content-Type\",\r\n\t\t\t\t\t\tvalue: \"application/json\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst itemFill = item => item.name !== \"\";\r\n\r\n\t\t\t_formData.req_headers = _formData.req_headers\r\n\t\t\t\t? _formData.req_headers.filter(itemFill)\r\n\t\t\t\t: [];\r\n\r\n\t\t\t_formData.req_body_form = _formData.req_body_form\r\n\t\t\t\t? _formData.req_body_form.filter(itemFill)\r\n\t\t\t\t: [];\r\n\t\t\t_formData.req_params = _formData.req_params\r\n\t\t\t\t? _formData.req_params.filter(itemFill)\r\n\t\t\t\t: [];\r\n\t\t\t_formData.req_query = xU.filter(_formData.req_query, itemFill).map(i => {\r\n\t\t\t\tdelete i._id;\r\n\t\t\t\treturn i;\r\n\t\t\t});\r\n\r\n\t\t\tif (HTTP_METHOD[_formData.method].request_body !== true) {\r\n\t\t\t\t_formData.req_body_form = [];\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\t_formData.req_body_is_json_schema &&\r\n\t\t\t\t_formData.req_body_other &&\r\n\t\t\t\t_formData.req_body_type === \"json\"\r\n\t\t\t) {\r\n\t\t\t\tif (!_formData.req_body_other) {\r\n\t\t\t\t\tthrow new Error(this.$t(\"请求参数 json-schema 格式有误\").label);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\t_formData.res_body_is_json_schema &&\r\n\t\t\t\t_formData.res_body &&\r\n\t\t\t\t_formData.res_body_type === \"json\"\r\n\t\t\t) {\r\n\t\t\t\tif (!_formData.res_body) {\r\n\t\t\t\t\tthrow new Error(this.$t(\"返回数据 json-schema 格式有误\").label);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _formData;\r\n\t\t},\r\n\t\tasync submit() {\r\n\t\t\tconst validateResults = await validateForm(this.dataXItem);\r\n\t\t\tif (AllWasWell(validateResults)) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst formData = this.getFormData();\r\n\t\t\t\t\tconst { data } = await API.project.updateInterface(formData);\r\n\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\t/* 更新 url 左侧树 */\r\n\t\t\t\t\t\tawait (async () => {\r\n\t\t\t\t\t\t\t/* 可能修改了分类，影响对应url */\r\n\t\t\t\t\t\t\tCpt_url.value.query.category_id = formData.catid;\r\n\t\t\t\t\t\t\t/* 刷新右侧接口树 */\r\n\t\t\t\t\t\t\tawait Methods_Project.updateInterfaceMenuList();\r\n\t\t\t\t\t\t\t/* 设置树展开 */\r\n\t\t\t\t\t\t\tMethods_Project.setExpand();\r\n\r\n\t\t\t\t\t\t\tif (this.propDialogOptions.updateInterfaceInfo) {\r\n\t\t\t\t\t\t\t\t/* 更新详情  */\r\n\t\t\t\t\t\t\t\tawait this.propDialogOptions.updateInterfaceInfo();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/* @ts-ignore */\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.propDialogOptions.closeDialog();\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t})();\r\n\t\t\t\t\t\tUI.message.success(this.$t(\"修改成功\").label);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tUI.message.error(this.$t(\"修改失败\").label);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\trender(vm) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div class=\"dialog-modify-interface g-row flex1 flex horizon height100 width100 overflow-auto\">\r\n\t\t\t\t\t<div class=\"flex1\">\r\n\t\t\t\t\t\t<xForm labelStyle={{ \"min-width\": \"120px\", width: \"unset\" }}>\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.catid} />\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.title} />\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.basepath} />\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.path} />\r\n\t\t\t\t\t\t\t{/* 接口路径参数 */}\r\n\t\t\t\t\t\t\t{this.vDomXItemPathparams}\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.tag} />\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t\t<xItem configs={this.dataXItem.isProxy} />\r\n\t\t\t\t\t\t\t\t<xItem configs={this.dataXItem.witchEnv} class=\"flex1\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/* 请求参数 */}\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t{/* {JSON.stringify(this.dataXItem.requestArgs.value, null, 2)} */}\r\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.requestArgs} />\r\n\t\t\t\t\t\t\t{/* 响应参数  */}\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.responseArgs} />\r\n\t\t\t\t\t\t\t{/* 备注 */}\r\n\t\t\t\t\t\t\t<xLogObject obj={this.dataXItem.remark} hide />\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.remark} />\r\n\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.api_opened} />\r\n\t\t\t\t\t\t</xForm>\r\n\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<xDialogFooter>\r\n\t\t\t\t\t<xGap f=\"1\" />\r\n\t\t\t\t\t<div style=\"min-width:120px;\">\r\n\t\t\t\t\t\t<xItem configs={this.dataXItem.noticed} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<xGap r=\"10\" />\r\n\t\t\t\t\t<xButton configs={this.configsDialogFooter.cancel} />\r\n\t\t\t\t\t<xGap r=\"10\" />\r\n\t\t\t\t\t<xButton configs={this.configsDialogFooter.save} />\r\n\t\t\t\t</xDialogFooter>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n});\r\n","import { defineComponent, ref, watch } from \"vue\";\r\nimport { $, xU, UI, defCol, defDataGridOption, State_UI } from \"@ventose/ui\";\r\nimport { API } from \"../../../api\";\r\nimport { Methods_Project, State_Project } from \"./State_Project\";\r\nimport { Cpt_url } from \"../../../router/router\";\r\nimport { InfoCard } from \"../../../components/InfoCard\";\r\nimport { ITEM_OPTIONS, ITEM_OPTIONS_VDOM } from \"../../../utils/common.options\";\r\nimport { State_App } from \"./../../../state/State_App\";\r\nimport { DialogModifyInterface } from \"./DialogModifyInterface\";\r\nimport { makeAhref } from \"src/components/RouterView/RouterView\";\r\nimport copy from \"copy-to-clipboard\";\r\nimport { asyncGetTuiEditor } from \"../../../components/TuiEditor/LoadTuiEditorLibs\";\r\nimport { TuiEditor } from \"../../../components/TuiEditor/TuiEditor\";\r\nimport { JsonSchemaMonaco } from \"../../../components/JsonSchemaEditor/JsonSchemaMonaco\";\r\n\r\nconst colParamsName = defCol({\r\n\tprop: \"name\",\r\n\tlabel: State_UI.$t(\"参数名称\").label,\r\n\twidth: \"120px\"\r\n});\r\nconst colRemark = defCol({ prop: \"desc\", label: State_UI.$t(\"备注\").label });\r\nconst colRequired = defCol({\r\n\tprop: \"required\",\r\n\tlabel: State_UI.$t(\"是否必须\").label,\r\n\twidth: \"100px\",\r\n\trenderCell: ({ record }) => ITEM_OPTIONS_VDOM.required(record.required)\r\n});\r\nconst colExample = defCol({\r\n\tprop: \"example\",\r\n\tlabel: State_UI.$t(\"示例\").label\r\n});\r\n\r\nexport const InterfaceDetail = defineComponent({\r\n\tsetup() {\r\n\t\treturn { State_Project, Cpt_url };\r\n\t},\r\n\tdata(vm) {\r\n\t\treturn {\r\n\t\t\tState_App,\r\n\t\t\tdetailInfo: false,\r\n\t\t\tconfigs_table_path_params: defDataGridOption({\r\n\t\t\t\tisHidePagination: true,\r\n\t\t\t\tdataSource: [],\r\n\t\t\t\tcolumns: {\r\n\t\t\t\t\t...colParamsName,\r\n\t\t\t\t\t...defCol({ prop: \"example\", label: vm.$t(\"示例\").label }),\r\n\t\t\t\t\t...colRemark\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tconfigs_table_headers: defDataGridOption({\r\n\t\t\t\tisHidePagination: true,\r\n\t\t\t\tdataSource: [],\r\n\t\t\t\tcolumns: {\r\n\t\t\t\t\t...colRequired,\r\n\t\t\t\t\t...colParamsName,\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tprop: \"value\",\r\n\t\t\t\t\t\tlabel: vm.$t(\"参数值\").label\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...colExample,\r\n\t\t\t\t\t...colRemark\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tconfigs_table_query: defDataGridOption({\r\n\t\t\t\tisHidePagination: true,\r\n\t\t\t\tdataSource: [],\r\n\t\t\t\tcolumns: {\r\n\t\t\t\t\t...colRequired,\r\n\t\t\t\t\t...colParamsName,\r\n\t\t\t\t\t...colExample,\r\n\t\t\t\t\t...colRemark\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tconfigs_table_body_form: defDataGridOption({\r\n\t\t\t\tisHidePagination: true,\r\n\t\t\t\tdataSource: [],\r\n\t\t\t\tcolumns: {\r\n\t\t\t\t\t...colRequired,\r\n\t\t\t\t\t...colParamsName,\r\n\t\t\t\t\t...defCol({\r\n\t\t\t\t\t\tprop: \"type\",\r\n\t\t\t\t\t\tlabel: vm.$t(\"参数类型\").label,\r\n\t\t\t\t\t\twidth: \"100px\",\r\n\t\t\t\t\t\trenderCell: ({ record }) =>\r\n\t\t\t\t\t\t\tITEM_OPTIONS_VDOM.interfaceBodyFormType(record.type)\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t...colExample,\r\n\t\t\t\t\t...colRemark\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\t\"Cpt_url.query.interface_id\": {\r\n\t\t\timmediate: true,\r\n\t\t\tasync handler(interface_id) {\r\n\t\t\t\tif (!interface_id) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.updateInterfaceInfo();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tasync mounted() {\r\n\t\tawait asyncGetTuiEditor();\r\n\t},\r\n\tmethods: {\r\n\t\tasync updateInterfaceInfo() {\r\n\t\t\tconst { data } = await API.project.fetchInterfaceDetail(\r\n\t\t\t\tthis.Cpt_url.query.interface_id\r\n\t\t\t);\r\n\t\t\tthis.detailInfo = data;\r\n\t\t\txU(data);\r\n\t\t\tthis.configs_table_headers.dataSource = xU.orderBy(\r\n\t\t\t\tdata.req_headers,\r\n\t\t\t\t[\"required\"],\r\n\t\t\t\t[\"desc\"]\r\n\t\t\t);\r\n\t\t\tthis.configs_table_path_params.dataSource = xU.orderBy(\r\n\t\t\t\tdata.req_params,\r\n\t\t\t\t[\"required\"],\r\n\t\t\t\t[\"desc\"]\r\n\t\t\t);\r\n\t\t\tthis.configs_table_query.dataSource = xU.orderBy(\r\n\t\t\t\tdata.req_query,\r\n\t\t\t\t[\"required\", \"type\"],\r\n\t\t\t\t[\"desc\", \"asc\"]\r\n\t\t\t);\r\n\t\t\tthis.configs_table_body_form.dataSource = xU.orderBy(\r\n\t\t\t\tdata.req_body_form,\r\n\t\t\t\t[\"required\", \"type\"],\r\n\t\t\t\t[\"desc\", \"asc\"]\r\n\t\t\t);\r\n\t\t},\r\n\t\tcopyUrl(url) {\r\n\t\t\tcopy(url);\r\n\t\t\tUI.message.success(\"已经成功复制到剪切板\");\r\n\t\t},\r\n\t\tflagMsg(mock, strice) {\r\n\t\t\tif (mock && strice) {\r\n\t\t\t\treturn <span>( 全局mock & 严格模式 )</span>;\r\n\t\t\t} else if (!mock && strice) {\r\n\t\t\t\treturn <span>( 严格模式 )</span>;\r\n\t\t\t} else if (mock && !strice) {\r\n\t\t\t\treturn <span>( 全局mock )</span>;\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseWS() {\r\n\t\t\tthis.WebSocket && this.WebSocket.close();\r\n\t\t\tdelete this.WebSocket;\r\n\t\t},\r\n\t\tasync showModifyInterfaceDialog() {\r\n\t\t\tconst vm = this;\r\n\t\t\tawait xU.ensureValueDone(() => this.detailInfo);\r\n\t\t\tconst item = this.detailInfo;\r\n\t\t\tconst $dialogModifyInterface = $(`.dialog-modify-interface`);\r\n\r\n\t\t\tif ($dialogModifyInterface.length > 0) {\r\n\t\t\t\tUI.message.warn(this.$t(\"已存在修改面板\").label);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst { status, curdata, message } = await this.checkConflict(item);\r\n\r\n\t\t\tif (status == 2) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait UI.dialog.confirm({\r\n\t\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t\t<div class=\"flex middle\">\r\n\t\t\t\t\t\t\t\t<a href={makeAhref(`/user/profile/${curdata.uid}`)}>\r\n\t\t\t\t\t\t\t\t\t{curdata.username}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<div>正在编辑该接口，请稍后再试...</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.closeWS();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (message) {\r\n\t\t\t\tUI.message.warn(message);\r\n\t\t\t}\r\n\t\t\tUI.dialog.component({\r\n\t\t\t\ttitle: this.$t(\"修改接口\").label + `-${item.title}`,\r\n\t\t\t\tfullscreen: true,\r\n\t\t\t\tcomponent: DialogModifyInterface,\r\n\t\t\t\tinterfaceId: item._id,\r\n\t\t\t\tmaxmin: true,\r\n\t\t\t\tupdateInterfaceInfo: vm.updateInterfaceInfo,\r\n\t\t\t\tonBeforeClose: vm.closeWS()\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync checkConflict(item) {\r\n\t\t\tconst vm = this;\r\n\t\t\tconst { hostname, port, protocol } = location;\r\n\t\t\tlet domain = hostname + (port !== \"\" ? \":\" + port : \"\");\r\n\t\t\t//因后端 node 仅支持 ws， 暂不支持 wss\r\n\t\t\tlet wsProtocol = protocol === \"https:\" ? \"wss\" : \"ws\";\r\n\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst sockei = new WebSocket(\r\n\t\t\t\t\t\t`${wsProtocol}://${domain}/api/interface/solve_conflict?id=${item._id}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsockei.onopen = () => {\r\n\t\t\t\t\t\tvm.WebSocket = sockei;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tsockei.onmessage = e => {\r\n\t\t\t\t\t\tlet result = JSON.parse(e.data);\r\n\t\t\t\t\t\tif (result.errno === 0) {\r\n\t\t\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t\t\tcurdata: result.data,\r\n\t\t\t\t\t\t\t\tstatus: 1\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t\t\tcurdata: result.data,\r\n\t\t\t\t\t\t\t\tstatus: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tsockei.onerror = () => {\r\n\t\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t\tcurdata: item,\r\n\t\t\t\t\t\t\tstatus: 1,\r\n\t\t\t\t\t\t\tmessage: \"websocket 连接失败，将导致多人编辑同一个接口冲突。\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\tcurdata: item,\r\n\t\t\t\t\t\tstatus: 1,\r\n\t\t\t\t\t\tmessage: \"websocket 连接失败，将导致多人编辑同一个接口冲突。\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tstatus() {\r\n\t\t\tlet status = {\r\n\t\t\t\tundone: \"未完成\",\r\n\t\t\t\tdone: \"已完成\"\r\n\t\t\t};\r\n\r\n\t\t\treturn status[this.detailInfo?.status];\r\n\t\t},\r\n\t\tlabelProxyEnv() {\r\n\t\t\tif (!this.detailInfo.isProxy) {\r\n\t\t\t\treturn \"Y-api Mock 数据\";\r\n\t\t\t}\r\n\t\t\tconst envId = this.detailInfo.witchEnv;\r\n\t\t\tif (!envId) {\r\n\t\t\t\treturn \"任意\";\r\n\t\t\t}\r\n\t\t\tif (envId) {\r\n\t\t\t\tconst envArray = this.State_App.currProject.env;\r\n\t\t\t\tlet env = xU.find(envArray, { _id: envId });\r\n\t\t\t\tif (env) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<aTag color=\"cyan\">{env.name}</aTag>\r\n\t\t\t\t\t\t\t<span>{env.domain}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn \"--\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tvDomCopyAjaxCodePanel() {\r\n\t\t\tconst { tag, up_time, title, uid, username, path, method } =\r\n\t\t\t\tthis.detailInfo;\r\n\t\t\t/* TODO:后端获取模板 */\r\n\t\t\tconst ajaxCode = `/**\r\n*  ${title}\r\n*  ${window.location.href}\r\n*/\r\nasync ${xU.camelCase(path)}({params,data}) {\r\n\treturn await ajax({\r\n\t\tmethod: \"${method}\",\r\n\t\turl: \\`${path}\\`,\r\n\t\tparams:params||{},\r\n\t\tdata:data||{}\r\n\t});\r\n}`;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div style=\"position:relative;overflow:auto;height:100%;\">\r\n\t\t\t\t\t<aButton\r\n\t\t\t\t\t\tonClick={() => this.copyUrl(ajaxCode)}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\tzIndex: 1\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t复制代码\r\n\t\t\t\t\t</aButton>\r\n\t\t\t\t\t<MonacoEditor\r\n\t\t\t\t\t\tcode={ajaxCode}\r\n\t\t\t\t\t\tstyle={{ minHeight: 180 }}\r\n\t\t\t\t\t\treadOnly={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\tvDomMockHref() {\r\n\t\t\t/* @ts-ignore */\r\n\t\t\tconst { protocol, hostname, port } = location;\r\n\t\t\treturn `${protocol}//${hostname}${port ? `:${port}` : \"\"}/mock/${\r\n\t\t\t\tthis.State_App.currProject._id\r\n\t\t\t}${this.State_App.currProject.basepath}${this.detailInfo.path}`;\r\n\t\t},\r\n\t\tdescriptions() {\r\n\t\t\tconst vm = this;\r\n\t\t\tconst {\r\n\t\t\t\ttag,\r\n\t\t\t\tup_time,\r\n\t\t\t\ttitle,\r\n\t\t\t\tuid,\r\n\t\t\t\tusername,\r\n\t\t\t\tstatus,\r\n\t\t\t\tpath,\r\n\t\t\t\tmethod,\r\n\t\t\t\tisProxy,\r\n\t\t\t\tcustom_field_value,\r\n\t\t\t\tdesc\r\n\t\t\t} = this.detailInfo || {};\r\n\r\n\t\t\tconst rowArray = [\r\n\t\t\t\t{\r\n\t\t\t\t\tcolArray: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"接口名称\",\r\n\t\t\t\t\t\t\tcol: 3,\r\n\t\t\t\t\t\t\tvalue: this.detailInfo?.title\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tcolArray: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"维护人\",\r\n\t\t\t\t\t\t\tvalue: (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<aAvatar\r\n\t\t\t\t\t\t\t\t\t\tsrc={\"/api/user/avatar?uid=\" + uid}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"mr8\"\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"height:24px;width:24px;\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<a>{username}</a>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ label: \"状态\", value: ITEM_OPTIONS_VDOM.status(status) },\r\n\t\t\t\t\t\t{ label: \"更新时间\", value: xU.dateFormat(up_time) }\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tcolArray: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"接口路径\",\r\n\t\t\t\t\t\t\tcol: 3,\r\n\t\t\t\t\t\t\tvalue: (\r\n\t\t\t\t\t\t\t\t<CopyContent class=\"flex middle\">\r\n\t\t\t\t\t\t\t\t\t{ITEM_OPTIONS_VDOM.httpMethod(method)}\r\n\t\t\t\t\t\t\t\t\t{this.State_App.currProject.basepath} {path}\r\n\t\t\t\t\t\t\t\t</CopyContent>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tcolArray: [\r\n\t\t\t\t\t\t{ label: \"Tag\", col: 3, value: ITEM_OPTIONS_VDOM.tags(tag) }\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tcolArray: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"是否开启转发\",\r\n\t\t\t\t\t\t\tcol: 1,\r\n\t\t\t\t\t\t\tvalue: xU.find(ITEM_OPTIONS.trueOrFalse, { value: isProxy })\r\n\t\t\t\t\t\t\t\t?.label\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"转发环境\",\r\n\t\t\t\t\t\t\tcol: 2,\r\n\t\t\t\t\t\t\tvalue: this.labelProxyEnv,\r\n\t\t\t\t\t\t\tisHide: !isProxy\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tcolArray: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: (\r\n\t\t\t\t\t\t\t\t<div class=\"flex middle\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"mr10\">Mock地址</span>\r\n\t\t\t\t\t\t\t\t\t<aButton type=\"primary\">{vm.$t(\"测试\").label}</aButton>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tcol: 3,\r\n\t\t\t\t\t\t\tvalue: (\r\n\t\t\t\t\t\t\t\t<div class=\"flex middle width100\">\r\n\t\t\t\t\t\t\t\t\t{this.flagMsg(\r\n\t\t\t\t\t\t\t\t\t\tthis.State_App.currProject.is_mock_open,\r\n\t\t\t\t\t\t\t\t\t\tthis.State_App.currProject.strice\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<CopyContent>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"href\">{this.vDomMockHref}</span>\r\n\t\t\t\t\t\t\t\t\t</CopyContent>\r\n\t\t\t\t\t\t\t\t\t<xGap f=\"1\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tstyle: `height:200px;`,\r\n\t\t\t\t\tcolArray: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"ajax代码\",\r\n\t\t\t\t\t\t\tcol: 3,\r\n\t\t\t\t\t\t\tvalue: this.vDomCopyAjaxCodePanel\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t];\r\n\r\n\t\t\tif (\r\n\t\t\t\tcustom_field_value &&\r\n\t\t\t\tthis.State_App.currGroup?.custom_field?.enable\r\n\t\t\t) {\r\n\t\t\t\trowArray.push([\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: this.State_App.currGroup.custom_field.enable,\r\n\t\t\t\t\t\tcol: 3,\r\n\t\t\t\t\t\tvalue: custom_field_value\r\n\t\t\t\t\t}\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\trowArray,\r\n\t\t\t\tcolLabelWidth: \"220px\"\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\trender(vm) {\r\n\t\tif (!vm.detailInfo || !vm.State_App.currProject) {\r\n\t\t\treturn <aSpin spinning={true} class=\"flex middle center flex1\"></aSpin>;\r\n\t\t}\r\n\t\tconsole.log(\r\n\t\t\tvm.State_App.currGroup,\r\n\t\t\tvm.State_App.currProject,\r\n\t\t\tvm.detailInfo\r\n\t\t);\r\n\t\treturn (\r\n\t\t\t<xView style=\"overflow:hidden;\">\r\n\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t<xButton onClick={vm.showModifyInterfaceDialog}>修改</xButton>\r\n\t\t\t\t\t<xGap f=\"1\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex1 overflow-auto mt10\">\r\n\t\t\t\t\t<InfoCard title={<span>基本信息</span>} info={vm.descriptions} />\r\n\t\t\t\t\t<xGap t=\"20\" />\r\n\t\t\t\t\t{vm.detailInfo.desc && (\r\n\t\t\t\t\t\t<InfoCard title={vm.$t(\"备注\").label}>\r\n\t\t\t\t\t\t\t<TuiEditor modelValue={{ html: vm.detailInfo.desc }} readonly />\r\n\t\t\t\t\t\t</InfoCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<xGap t=\"20\" />\r\n\t\t\t\t\t<InfoCard title={\"请求参数\"}>\r\n\t\t\t\t\t\t{vm.configs_table_path_params.dataSource.length > 0 && (\r\n\t\t\t\t\t\t\t<aCard title={vm.$t(\"路径参数\").label}>\r\n\t\t\t\t\t\t\t\t<xDataGrid configs={vm.configs_table_path_params} />\r\n\t\t\t\t\t\t\t</aCard>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{vm.configs_table_headers.dataSource.length > 0 && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t\t<aCard title={vm.$t(\"Headers\").label}>\r\n\t\t\t\t\t\t\t\t\t<xDataGrid configs={vm.configs_table_headers} />\r\n\t\t\t\t\t\t\t\t</aCard>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{vm.configs_table_query.dataSource.length > 0 && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t\t<aCard title={vm.$t(\"Query\").label}>\r\n\t\t\t\t\t\t\t\t\t<xDataGrid configs={vm.configs_table_query} />\r\n\t\t\t\t\t\t\t\t</aCard>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{vm.detailInfo.req_body_type == \"form\" &&\r\n\t\t\t\t\t\t\tvm.configs_table_body_form.dataSource.length > 0 && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t\t\t<aCard title={vm.$t(\"Body\").label}>\r\n\t\t\t\t\t\t\t\t\t\t<xDataGrid configs={vm.configs_table_body_form} />\r\n\t\t\t\t\t\t\t\t\t</aCard>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{vm.detailInfo.req_body_type == \"json\" &&\r\n\t\t\t\t\t\t\tvm.detailInfo.req_body_other && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t\t\t<aCard title={vm.$t(\"Body\").label}>\r\n\t\t\t\t\t\t\t\t\t\t<div style=\"height:300px;width:90%\">\r\n\t\t\t\t\t\t\t\t\t\t\t<JsonSchemaMonaco\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model:schemaString={vm.detailInfo.req_body_other}\r\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly={true}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</aCard>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{vm.detailInfo.req_body_type == \"raw\" &&\r\n\t\t\t\t\t\t\tvm.detailInfo.req_body_other && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<xGap t=\"10\" />\r\n\t\t\t\t\t\t\t\t\t<aCard title={vm.$t(\"Body\").label}>\r\n\t\t\t\t\t\t\t\t\t\t<div style=\"height:300px;width:90%\">\r\n\t\t\t\t\t\t\t\t\t\t\t<MonacoEditor\r\n\t\t\t\t\t\t\t\t\t\t\t\tlanguage=\"json\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcode={vm.detailInfo.req_body_other}\r\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly={true}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</aCard>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t</InfoCard>\r\n\t\t\t\t\t{vm.detailInfo.res_body && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<xGap t=\"20\" />\r\n\t\t\t\t\t\t\t<InfoCard title={\"返回信息\"}>\r\n\t\t\t\t\t\t\t\t<div style=\"height:300px;width:90%\">\r\n\t\t\t\t\t\t\t\t\t<JsonSchemaMonaco\r\n\t\t\t\t\t\t\t\t\t\tv-model:schemaString={vm.detailInfo.res_body}\r\n\t\t\t\t\t\t\t\t\t\treadOnly={true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</InfoCard>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</xView>\r\n\t\t);\r\n\t}\r\n});\r\n"],"names":["makeKeyValueObj","i","key","name","value","makeNameValueObj","orderAsc","a","b","InputKeyValue","defineComponent","props","emits","setup","State_App","data","privateItems","isLoading","watch","formData","checkFormDataDebounce","mounted","setPrivateItems","computed","xU","reduce","privateTag","prop","keyConfigs","valueConfigs","vDomItems","map","_id","index","_createVNode","_resolveComponent","_withDirectives","deleteItem","_resolveDirective","methods","items","isArrayFill","_items","tag","genItem","debounce","isFormDataOk","keys","Object","Number","sort","_value","item","isInput","push","$emit","res","some","_key","_index","itemTips","type","msg","FormRules","FAIL","fnCheck","isFail","SUCCESS","length","addItem","nextIndex","last","render","vm","_Fragment","genTag","desc","nameConfigs","defItem","placeholder","descConfigs","DialogUpsertTags","propDialogOptions","default","__elId","privateTags","immediate","handler","tags","cloneDeep","propProjectId","currProject","alert","console","log","_name","deleteTag","addTag","onOk","id","API","project","updateTags","Methods_App","setCurrProject","isEnforce","UI","message","success","closeDialog","_createTextVNode","preset","onClick","DialogUpsertProxyEnv","privateEnv","currentSelected","configsForm","label","slots","addonBefore","protocol","rules","custom","validator","rule","test","itemType","options","ITEM_OPTIONS","httpProtocol","style","KeyValuePanel","configs","args","env","raw$EnvId","find","first","switchEvn","setFormValues","vDomLeftSide","className","fnDelete","dialog","confirm","content","envIndex","findIndex","splice","error","deleteEnv","onlyEllipsis","placement","xDomSaveButton","vdomEnvconfigs","vDomContent","width","padding","afterControll","domain","global","header","cookie","envItem","continu","rightData","pickValueFrom","delta","diff","leftData","e","split","cookieIndex","cookieString","setValueTo","setTimeout","validateResults","validateForm","AllWasWell","join","envArray","updateProxyEnv","$t","addEnv","newItem","genId","unshift","delay","properties","listeners","fnUpdate","val","newFormData","required","example","BodyParamsForm","reqBodyForm","resetDataForm","addRow","configs_table","dataSource","deleteRow","newFormDataArray","defXVirTableConfigs","rowHeight","customClass","tableId","columns","defCol","renderEditor","record","renderCell","ITEM_OPTIONS_VDOM","interfaceBodyFormType","renderHeader","height","objectNeedProps","SubformObject","minProperties","maxProperties","stringNeedProps","SubformString","minLength","maxLength","pattern","enum","isUseEnum","disabled","enumDesc","format","numberNeedProps","SubformNumber","parserNum","integer","parseInt","minimum","exclusiveMinimum","maximum","exclusiveMaximum","arrayNeedProps","SubformArray","minItems","maxItems","uniqueItems","booleanNeedProps","SubformBoolean","booleanDefault","xIcon","components","SPE","ICON_STRATEGE","object","h","icon","array","string","number","boolean","SchemaEditor","jsmVM","inject","dataXItem","defaultValue","readonly","isTextarea","isNumber","allowClear","YesOrNo","syncToJsonTree","baseProps","SUB_PROPS_STRATEGY","title","currentNode","currentTypeNeedProps","concat","targetValues","pick","oldkey","String","newKey","children","get","set","merge","description","exports","utils","Type","require$$0","Utils","require$$1","Process","getPropertyType","types","lang","processObject","require$$2","require$$3","require$$4","require$$5","usefnObserveDomResize","compositionAPI","makeProps","pre","transJsonTree","PopoverContent","markRaw","template","JsonSchemaMonaco","fnObserveDomResize","fnUnobserveDomResize","syncLabel","isShowSchemaEditor","onlyOneEditor","currentEditor","isShowMonacoEditor","deep","ensureValueDone","setSchemaStringDebounce","schemaString","updateSchemaJsonBy","schemaJson","updateTree","init","$refs","$","beforeUnmount","renderReadOnly","isTreeLoading","jsonTree","dataRef","vDomIcon","labelType","labelDescription","handleTreeClick","toggleEditor","setSchemaString","jsonSchemaString","JSON","stringify","raw$Node4Diff","node","isDifferent","updateTreeDebounce","parse","isMockPreview","setCurrentNode","handleNodeSync","oldKey","MutatingProps","addProp","deleteProp","syncMonacoString","monacoJsonToSchema","generateSchema","json","json5","previewMock","schema","interfaceSchema2json","Error","provide","helpTips","isShowRaw","expandedKeys","selectedKeys","configsPreviewMock","readOnly","isShowAdd","isShowDelete","BodyParamsJson","reqBodyOther","isReqBodyUseSchema","jsonData","STRATEGY_CELL_ITEM_CONFIGS","BODY_PARAM_PROP_ARRAY","BodyParamsRaw","bodyText","DialogBulkValues","formItems","bulkValue","formValues","styleBody","isFunction","doNothing","configsFooter","onCancel","bulkValueArray","formArray","str","vDomFormItems","BodyParamsPanel","configsBodyType","interfaceBodyType","openBulkValuesDialog","component","params","req_body_form","bodyType","req_body_type","extra","isForm","req_body_is_json_schema","req_body_other","HeaderParamsForm","reqHeaders","formDataArray","HTTP_REQUEST_HEADER","HeaderParamsPanel","Array","QueryParamsForm","reqQuery","compileVNode","QueryParamsPanel","RequestArgsPanel","__v_skip","collapseActive","QUERY","privateHttpMethod","GET","privateParams","apiMethod","HTTP_METHOD","default_tab","bodyCollapsible","request_body","req_headers","bodyHeader","BODY","req_query","ResponsePanel","resBody","body","TuiEditor","defineAsyncComponent","Promise","resolve","asyncGetTuiEditor","raw$md","once","mdString","raw$editor","setMarkdown","sync","syncDebounce","raw$selector","show","addClass","el","container","initialEditType","previewStyle","initialValue","hooks","change","addImageBlobHook","blob","callback","reader","FileReader","onload","_a","target2","target","result","readAsDataURL","_","uid","insertToolbarItem","groupIndex","itemIndex","text","backgroundImage","getMarkdown","modelValue","md","html","getHTML","removeClass","hide","$attrs","_isVNode","openProxyEnvDialog","_layerKey","State_UI","css","openUpsertTagDialog","InpterfacePathParams","EnvSelectRender","vDomOptions","TagSelectRender","selected","RequestArgsRender","deepWatch","MarkdownRender","ResponseRender","res_body","DialogModifyInterface","State_Project","vDomXItemPathparams","pathParams","interfaceId","oldInterface","configsDialogFooter","cancel","save","submit","reqArgs","detailInfo","activeKey","setOptions","allCategory","categoryId","nameLength","basepath","labelVNodeRender","VNodeCollection","labelTips","httpMethod","onChange","requestArgs","apiPath","vDomApiMethodsSelector","onAfterValueEmit","newPatnValue","_$handlePath","queue","path","insertParams","findExist","indexOf","paths","substr","replace","match","uniqBy","newValue","tagArray","trueOrFalse","isShow","isProxy","checkedChildren","unCheckedChildren","setFormDataValues","cat","category","catid","witchEnv","fetchInterfaceDetail","initState","api_opened","req_params","method","res_body_type","res_body_mock","res_body_is_json_schema","markdown","remark","filter","responseArgs","noticed","switch_notice","getFormData","_formData","isFile","haveContentType","each","itemFill","updateInterface","Cpt_url","query","category_id","Methods_Project","updateInterfaceMenuList","setExpand","updateInterfaceInfo","colParamsName","colRemark","colRequired","colExample","InterfaceDetail","configs_table_path_params","defDataGridOption","isHidePagination","configs_table_headers","configs_table_query","configs_table_body_form","interface_id","orderBy","copyUrl","url","copy","flagMsg","mock","strice","closeWS","WebSocket","close","showModifyInterfaceDialog","$dialogModifyInterface","warn","status","curdata","checkConflict","makeAhref","username","fullscreen","maxmin","onBeforeClose","hostname","port","location","wsProtocol","reject","sockei","onopen","onmessage","errno","onerror","undone","done","labelProxyEnv","envId","vDomCopyAjaxCodePanel","up_time","ajaxCode","window","href","camelCase","position","top","right","zIndex","minHeight","vDomMockHref","descriptions","custom_field_value","rowArray","colArray","col","dateFormat","isHide","is_mock_open","currGroup","custom_field","enable","colLabelWidth"],"mappings":"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"}