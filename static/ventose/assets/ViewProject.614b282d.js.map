{"version":3,"file":"ViewProject.614b282d.js","sources":["../../src/containers/Project/ViewProject.tsx"],"sourcesContent":["import { xU } from \"@ventose/ui\";\nimport { computed, defineComponent } from \"vue\";\nimport { Cpt_url, ProjectChildren } from \"../../router/router\";\nimport { State_App } from \"../../state/State_App\";\nimport { API } from \"../../api\";\nimport { State_Project, resetStateInterface } from \"./Interface/State_Project\";\n\n/* 数据状态由ViewProject 提供，以便subView 切换之后数据状态不变 */\n\nexport const ViewProject = defineComponent({\n\tname: \"ViewProject\",\n\tsetup() {\n\t\t/* 以project为root，共享数据随project生命周期重置 */\n\t\tresetStateInterface();\n\t\treturn {\n\t\t\tState_Project,\n\t\t\tState_App,\n\t\t\tCpt_url\n\t\t};\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrentViewKey: ProjectChildren[0].path,\n\t\t\tProjectChildren\n\t\t};\n\t},\n\tmethods: {\n\t\tswitchProjectSubOption({ key: path }) {\n\t\t\tthis.Cpt_url.go(path, this.Cpt_url.query);\n\t\t\tthis.currentViewKey = path;\n\t\t}\n\t},\n\tcomputed: {},\n\trender() {\n\t\t/* 如果没有projectId 则重定向到group */\n\t\tif (!this.State_App.currProject._id) {\n\t\t\treturn <aSpin class=\"flex vertical middle center height100\" />;\n\t\t}\n\t\treturn (\n\t\t\t<div id=\"ViewProject\">\n\t\t\t\t<aMenu\n\t\t\t\t\tonClick={this.switchProjectSubOption}\n\t\t\t\t\tselectedKeys={[this.currentViewKey]}\n\t\t\t\t\tmode=\"horizontal\"\n\t\t\t\t\tclass=\"\">\n\t\t\t\t\t{xU.map(this.ProjectChildren, (item, index) => {\n\t\t\t\t\t\t// 若导航标题为两个字，则自动在中间加个空格\n\t\t\t\t\t\tif (item.label.length === 2) {\n\t\t\t\t\t\t\titem.label = item.label[0] + \" \" + item.label[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<aMenuItem class=\"item\" key={item.path}>\n\t\t\t\t\t\t\t\t{item.label}\n\t\t\t\t\t\t\t</aMenuItem>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</aMenu>\n\t\t\t\t<RouterView />\n\t\t\t</div>\n\t\t);\n\t}\n});\n"],"names":["_isVNode","ViewProject","defineComponent","name","setup","resetStateInterface","State_Project","State_App","Cpt_url","data","currentViewKey","ProjectChildren","path","methods","switchProjectSubOption","key","go","query","computed","render","currProject","_id","_createVNode","_resolveComponent","xU","map","item","index","label","length"],"mappings":";AAOA,SAAA,QAAA,GAAA;AAAA,SAAA,OAAA,MAAA,cAAA,OAAA,UAAA,SAAA,KAAA,CAAA,MAAA,qBAAA,CAAAA,QAAA,CAAA;AAAA;AAEaC,MAAAA,cAAcC,gBAAgB;AAAA,EAC1CC,MAAM;AAAA,EACNC,QAAQ;AAEPC;AACA,WAAO;AAAA,MACNC;AAAAA,iBACAC;AAAAA,MACAC;AAAAA;EAED;AAAA,EACDC,OAAO;AACN,WAAO;AAAA,MACNC,gBAAgBC,gBAAgB,GAAGC;AAAAA,MACnCD;AAAAA;EAED;AAAA,EACDE,SAAS;AAAA,IACRC,uBAAuB;AAAA,MAAEC,KAAKH;AAAAA,IAAK,GAAG;AACrC,WAAKJ,QAAQQ,GAAGJ,MAAM,KAAKJ,QAAQS,KAAK;AACxC,WAAKP,iBAAiBE;AAAAA,IACvB;AAAA,EACA;AAAA,EACDM,UAAU,CAAE;AAAA,EACZC,SAAS;AAAA,QAAA;AAER,QAAI,CAAC,KAAKZ,UAAUa,YAAYC,KAAK;AACpC,aAAAC,YAAAC,iBAAA,OAAA,GAAA;AAAA,QAAA,SAAoB;AAAA,MAAuC,GAAA,IAAA;AAAA,IAC5D;AACA,WAAAD,YAAA,OAAA;AAAA,MAAA,MACS;AAAA,IAAa,GAAA,CAAAA,YAAAC,iBAAA,OAAA,GAAA;AAAA,MAAA,WAEV,KAAKT;AAAAA,MAAsB,gBACtB,CAAC,KAAKJ,cAAc;AAAA,MAAC,QAC9B;AAAA,MAAY,SACX;AAAA,IAAE,GAAA,QAAA,QACPc,GAAGC,IAAI,KAAKd,iBAAiB,CAACe,MAAMC,UAAU;AAE9C,UAAID,KAAKE,MAAMC,WAAW,GAAG;AAC5BH,aAAKE,QAAQF,KAAKE,MAAM,KAAK,MAAMF,KAAKE,MAAM;AAAA,MAC/C;AACA,aAAAN,YAAAC,iBAAA,WAAA,GAAA;AAAA,QAAA,SACkB;AAAA,QAAM,OAAMG,KAAKd;AAAAA,MAAI,GAAA;AAAA,QAAA,SACpCc,MAAAA,CAAAA,KAAKE,KAAK;AAAA,MAAA,CAAA;AAAA,IAGd,CAAC,CAAC,IAAA,QAAA;AAAA,MAAA,SAAA,MAAA,CAAA,KAAA;AAAA,IAAA,CAAA,GAAAN,YAAAC,iBAAA,YAAA,GAAA,MAAA,IAAA,CAAA,CAAA;AAAA,EAKN;AACD,CAAC;"}