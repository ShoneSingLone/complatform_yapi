((t,n)=>{var r,e;"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(r=t.Base64,(e=n()).noConflict=function(){return t.Base64=r,e},t.Meteor&&(Base64=e),t.Base64=e)})("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,function(){function r(t){return t.replace(/=/g,"").replace(/[+\/]/g,function(t){return"+"==t?"-":"_"})}function t(t){for(var n,r,e,o="",u=t.length%3,i=0;i<t.length;){if(255<(n=t.charCodeAt(i++))||255<(r=t.charCodeAt(i++))||255<(e=t.charCodeAt(i++)))throw new TypeError("invalid character found");o+=m[(n=n<<16|r<<8|e)>>18&63]+m[n>>12&63]+m[n>>6&63]+m[63&n]}return u?o.slice(0,u-3)+"===".substring(u):o}function n(t,n){return(n=void 0===n?!1:n)?r(D(t)):D(t)}function e(t){var n;return t.length<2?(n=t.charCodeAt(0))<128?t:n<2048?F(192|n>>>6)+F(128|63&n):F(224|n>>>12&15)+F(128|n>>>6&63)+F(128|63&n):(n=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320),F(240|n>>>18&7)+F(128|n>>>12&63)+F(128|n>>>6&63)+F(128|63&n))}function o(t){return t.replace(R,e)}function u(t,n){return(n=void 0===n?!1:n)?r(z(t)):z(t)}function i(t){return u(t,!0)}function f(t){switch(t.length){case 4:var n=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return F(55296+(n>>>10))+F(56320+(1023&n));case 3:return F((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return F((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}}function c(t){return t.replace(T,f)}function a(t){if(t=t.replace(/\s+/g,""),!U.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var n,r,e,o="",u=0;u<t.length;)n=v[t.charAt(u++)]<<18|v[t.charAt(u++)]<<12|(r=v[t.charAt(u++)])<<6|(e=v[t.charAt(u++)]),o+=64===r?F(n>>16&255):64===e?F(n>>16&255,n>>8&255):F(n>>16&255,n>>8&255,255&n);return o}function d(t){return j(s(t))}function s(t){return S(t.replace(/[-_]/g,function(t){return"-"==t?"+":"/"}))}function l(t){return O(s(t))}function h(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}}function p(){function t(t,n){Object.defineProperty(String.prototype,t,h(n))}t("fromBase64",function(){return l(this)}),t("toBase64",function(t){return u(this,t)}),t("toBase64URI",function(){return u(this,!0)}),t("toBase64URL",function(){return u(this,!0)}),t("toUint8Array",function(){return d(this)})}function y(){function t(t,n){Object.defineProperty(Uint8Array.prototype,t,h(n))}t("toBase64",function(t){return n(this,t)}),t("toBase64URI",function(){return n(this,!0)}),t("toBase64URL",function(){return n(this,!0)})}var A,b="function"==typeof atob,g="function"==typeof btoa,B="function"==typeof Buffer,x="function"==typeof TextDecoder?new TextDecoder:void 0,C="function"==typeof TextEncoder?new TextEncoder:void 0,m=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),v=(A={},m.forEach(function(t,n){return A[t]=n}),A),U=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,F=String.fromCharCode.bind(String),w="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t,n){return void 0===n&&(n=function(t){return t}),new Uint8Array(Array.prototype.slice.call(t,0).map(n))},S=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},E=g?function(t){return btoa(t)}:B?function(t){return Buffer.from(t,"binary").toString("base64")}:t,D=B?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var n=[],r=0,e=t.length;r<e;r+=4096)n.push(F.apply(null,t.subarray(r,r+4096)));return E(n.join(""))},R=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,z=B?function(t){return Buffer.from(t,"utf8").toString("base64")}:C?function(t){return D(C.encode(t))}:function(t){return E(o(t))},T=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Z=b?function(t){return atob(S(t))}:B?function(t){return Buffer.from(t,"base64").toString("binary")}:a,j=B?function(t){return w(Buffer.from(t,"base64"))}:function(t){return w(Z(t),function(t){return t.charCodeAt(0)})},O=B?function(t){return Buffer.from(t,"base64").toString("utf8")}:x?function(t){return x.decode(j(t))}:function(t){return c(Z(t))},I={version:"3.7.2",VERSION:"3.7.2",atob:Z,atobPolyfill:a,btoa:E,btoaPolyfill:t,fromBase64:l,toBase64:u,encode:u,encodeURI:i,encodeURL:i,utob:o,btou:c,decode:l,isValid:function(t){return"string"==typeof t&&(t=t.replace(/\s+/g,"").replace(/={0,2}$/,""),!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t))},fromUint8Array:n,toUint8Array:d,extendString:p,extendUint8Array:y,extendBuiltins:function(){p(),y()},Base64:{}};return Object.keys(I).forEach(function(t){return I.Base64[t]=I[t]}),I});